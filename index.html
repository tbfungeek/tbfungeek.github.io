
 <!DOCTYPE HTML>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  
    <title>Edgar&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Edgar">
    

    
    <meta name="description" content="Android | 全栈工程师">
<meta property="og:type" content="website">
<meta property="og:title" content="Edgar&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Edgar&#39;s Blog">
<meta property="og:description" content="Android | 全栈工程师">
<meta property="og:locale">
<meta property="article:author" content="Edgar">
<meta name="twitter:card" content="summary">

    
    <link rel="alternative" href="atom.xml" title="Edgar&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/unnamed4_n_mSY_icon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/profile.png">
    <link rel="apple-touch-icon-precomposed" href="/img/profile.png">
    
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.2.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Edgar&#39;s Blog">Edgar&#39;s Blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="Search" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2022/05/01/小目录/" title="ReadMe" itemprop="url">ReadMe</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2022-05-01T00:56:50.000Z" itemprop="datePublished"> Published 2022-05-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="/2022/05/01/%E5%B0%8F%E7%9B%AE%E5%BD%95/00001.jpeg"></p>
<p>好几年没动这个博客了，其间收到很多陌生的小伙伴们的邮件，大体分成几类:有催更的，有问题探讨的，有鼓励的，也有指出我博客上的不足之处的。十分感谢大家，从2016年开始搭建博客，主要的出发点就是为了系统性的梳理整个技术栈的知识体系，所以内容的 <strong><strong>全</strong></strong> 是最初的一个目标，最早先是想着弄一个技术栈的Roadmap，然后在每个技术点上加上自己认为比较好的文章的链接，通过这种方式来梳理整个技术栈。但是这种方式对我个人来说就缺乏了知识提炼消化的过程，往往下一次进行回顾的时候又得从庞大的资料里面重新提取，并且很可能有些文章的链接失效了。梳理整个体系是一件十分耗费精力的事情，也不知道当时是怎么坚持过来的。当时弄的时候也没期待它能给自己带来什么附加价值。<br>但是期间确确实实得到了很多鼓励（当然也有批评，^V^坦诚脸）,但大家都是十分善意的。</p>
<p>对于一些反馈比较频繁的问题给个回复以及不在的这段时间的简单总结：</p>
<ol>
<li><em><strong>最近在忙啥？</strong></em></li>
</ol>
<p>从前年开始工作内容挑战相对小了，并且当初自己从嵌入式转入互联网开发的目标就是未来能够成为一名独立开发者，所以就着手开始了独立开发的旅程，期间开发了叮咚熊和Top Tags，Aurora三款应用，因为整个设计开发都得自己来。所以基本上下班回家忙完琐事，就是设计，开发。周末除了雷打不动的陪老婆小孩的时间外基本上都花在上面了。我老婆有时候会打趣说和我在一起经常会感觉有第三者存在，是的，就是她们仨，哈哈哈哈哈哈哈哈 （在这里谢谢老婆的支持，虽然经常抱怨我，经常做这种吃力不讨好，用爱发电的事情，但是还是很感激她一路的纵容，哈哈哈哈）。</p>
<p>关于叮咚熊和Top Tags两款应用都已经上架到AppStore 如果大家有需要可以下载使用，目前是不收费，也没有烦人的广告，并且引用一个想要合作的热心用户的反馈就是，“别的应用iCloud 同步功能一般都收费，为啥你的应用不这样做？它的盈利点是什么？“<br>坦诚说谁不想靠着开发的应用来获得一份收入的，毕竟每天上班结束投入的时间成本，以及每年孝敬苹果爸爸的开发者费用都是支出的，但是它们太小了，还没长成我对他们的预期，我很希望它能够有更多的功能，能够提供更多的服务，靠自己的劳动所得赚钱不丢人，<br>但是还想想着提供更加完善的功能后再开启收费，包括后续引入广告后如何不影响交互，这些目前我都很难给出一个自己很满意的答案。仍然需要自己去探索，很多人会告诉你他们的答案，经验，但是这些都只是别人的，只有自己探索过才是自己的答案。这也是我个人对独立开发者的理解。<br>再说了我可以养它们哈，用爱发电，做很多自己觉得有意义但是不靠谱的事情做多了，就会慢慢接受这个现实，更加专注到事情的本身。哈哈哈哈，反正我老婆也会时不时得觉得我做的这些事情不靠谱，没有太多阻拦只不过知道劝我也没用，所以她对我的要求就是保持收入按计划持续就好。<br>其实我自己也不太清楚后续会不会后悔投入那么多时间，然后一无所成，不过唯一确定的是，不做的话肯定会后悔。不大想以后把”要是当时….”挂在嘴边，成为大家都烦的糟老头。</p>
<p>对了关于Aurora为什么下架，这里也做个说明，因为他有更好的替代品PPHub,它做得很完善了，当时开发Aurora也是为了学习React Native而开发的，并且需要后端服务器的成本。(对最真实的原因就是穷得付不起服务器的钱了，哈哈哈哈)</p>
<p>今年的计划希望叮咚熊能够增加竖屏支持，最初是想通过叮咚熊让用户戒掉使用手机的频率，让它作为桌面摆件。但是这也导致了使用时长很低。今年会增加竖屏内容。还有就是优化应用图标和ASO优化。爆光的数据太少了。<br>Top Tags 用户量还好，目前还有很多热心用户，数据也很稳定，前几天还收到一个热心的设计用户给了一份很详细的使用体验和从设计师维度提出很有帮助的建议。Top Tags 今年的目标就是为iPad和Mac端专门提供针对平台交互的应用。还有很多保密性功能都会一一实现。<br>除了叮咚熊和Top Tags 今年刚开始开发一个定格动画的应用，弄了一半，因为这阵子有其他事情，暂时搁浅了（对的就是换工作，哈哈哈哈哈哈）。七月份应该会继续每天投入时间开发。每天争取最少一行代码，或者一行注释。哈哈哈哈哈哈哈哈哈哈哈。</p>
<ol start="2">
<li><em><strong>这个博客网站，停更了吗？</strong></em></li>
</ol>
<p>应该不会停止，其间还接触了React Native开发，这块一直想做个总结，最近还在接触Unity,后续可能还会有AR技术。不过时间真的不太够用。并且最关键的是，比起写博客我更喜欢写代码，设计界面。但是技术栈的梳理这个工作还是蛮想继续下去的。不过不敢肯定给一个明确的时间点。</p>
<ol start="3">
<li><em><strong>交流很不方便，为什么没有留言的功能？</strong></em></li>
</ol>
<p>最早开了留言功能，但是没人理我，哈哈，所以就关闭了。但是过了几年内容丰富了，才陆续有很多人给我发邮件提起这个需求。后面有认真想了下，还是比较社恐，邮件交流这种方式，比较适合我，有时间了就回复一下大家，但是多半没有回复的，希望大家谅解下。</p>
<ol start="4">
<li><em><strong>有些内容比较浅显，有打算往深度扩展吗？</strong></em></li>
</ol>
<p>这个博客网站的宗旨是为了全，我很能体会刚接触一个新技术栈时候的那份迷茫，2018年有幸从Android技术栈切到iOS，那时候项目赶着上架，也是两眼一抹黑，加上脸皮薄，并且组内唯一会iOS的组长，工作又很忙，所以当时真的和盲人摸象一个样。也是从那一刻<br>有了重新梳理iOS知识体系的念头。想着能够和我一样的朋友，能够通过我的内容让大家快速对整个体系有个认知。等到有了初步认知后，建议可以通过对应领域的大牛的博客，继续深入学习。这是最初的目的。所以暂时没有完深度扩展的计划，不过谁说得准呢？有时间就搞，我是闲不下来的。哈哈哈。只不过太多更有意义的事情需要时间精力的投入。</p>
<p>第二点是一个很现实的问题，这些文章一般都是接触某一个领域一两年做的这个总结，某些深度是很难做到的。这个需要大家的谅解。一般有这种邮件过来，我都会回复并表示歉意，然后给他推荐自己觉得较好的站点或者文章。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2022/05/01/小目录/#comments" class="ds-thread-count comments-count-link" data-thread-key="2022/05/01/小目录/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2022/04/29/那一年成长是肆无忌惮的一件事情-而如今成才着痛并快乐着/" title="【置顶】那一年成长是肆无忌惮的一件事情,而如今有一种成长叫痛并快乐着" itemprop="url">【置顶】那一年成长是肆无忌惮的一件事情,而如今有一种成长叫痛并快乐着</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2022-04-29T09:03:31.000Z" itemprop="datePublished"> Published 2022-04-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>*** 那一年一直告诫自己不要太急着找妹子，因为当时坚信那时的长相一定是处于人生的低谷，但是这些年时光一直用那把杀猪刀告诉我“哥，那时的长相才是处于巅峰时期，你却花在泡图书馆，泡实验室，眼睁睁得看着一个个妹子被带走” ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/1.png"></p>
<hr>
<p>*** 那一年有种自作自受叫做“和队员们泡了三个月的实验室，一起跷课，一起网上通宵调试，上课集体睡觉，只为了这些证书，和那辆至今记忆犹新的小车” ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/2.png"><br>*** 那一天它跑起来了，它能躲避障碍物了，老师说当时的我比看到自己孩子会走路了还开心 ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/3.png"><br>*** 那一天它终于上场了，我们高兴坏了，结束的那一刻我们三个人眼睛同时进沙了，我们彼此用的是同一个借口“福州的沙子太多了” ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/4.png"></p>
<hr>
<p>*** 那一年我们离开了校园，所有的书本论斤买了，大伙腐败了一顿，只有这些小本本加起来还不够一本书的重量，所以就留着了 ***<br>*** 那一年知道了这些红本本的另一种用处是：本本多了，在每一届新生交流会上你可以在一群懵懂的学妹面前吹嘘你那些所谓的光荣历史 ***<br>*** 那一年听说一个高校哥们靠替师妹做C语音作业，潜规则了师妹后，当时觉得自己是多么的纯洁，纯洁到师妹留的电话号码一直不敢拨打的地步，但是现在可能会悟到那个哥们估计不会C语言也会搞到那个师妹，与会不会C语言没有半毛钱关系 ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/5.png"></p>
<hr>
<p>*** 那一年大家都在忙着在抓住青春的尾巴在毕业季彻底的狂欢一把的时候，总有一些人不甘这么早早地谢幕，选择了在图书馆地下室死吭，三个月后又出现在了校园的舞台，续写着青春的序曲，可是在收到录取通知书后知道某某同学在一起了，某某同学怀孕了，一切都发生在那三个月的时间，于是乎感叹，永远不要太得瑟，不要太低估青春的荷尔蒙力量，那时和四年的大学生涯依依不舍地道别，不带走一个妹子 ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/6.png"></p>
<hr>
<p>*** 那一年拿着三个月换来的门票来到了厦门，一切都一样，实验室，图书馆，实验室，图书馆，唯一的区别要时不时的出差调试 ***<br>*** 那一年多亏了导师的眷顾和实验室的唯一妹子一起负责一个项目，然后那个妹子成了我的初恋，成了我现在的媳妇 ***<br>*** 那一年本该是荷尔蒙迸发的时刻，本该是花前月下充满诗意的时光，可是依旧需要三点一线，然而有了痛并快乐的感受 ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/8.png"><br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/7.png"></p>
<hr>
<p>*** 那一年它跑起来了，我快累趴了 ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/9.png"><br>*** 那一年我用这本八十多页的本本，带走了我的妹子，导师在最后的谢师宴上才知道原来我的效率是如此之高不但搞定了项目，也搞定了实验室的室花，至今想想依旧会偷偷地傻笑 ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/10.png"></p>
<p>*** 那一年不管有多少个三月都不能再续写青春的剧本，拖着行李开始了另一段旅程 ***</p>
<hr>
<p>*** 那一年我们回到相识的城市领证了，然后在朋友圈里发了个状态 “我们在爱情的跑道转了一圈，回到了起点重新出发” ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/11.png"></p>
<p>*** 那一年我们有了可以把酒言欢的朋友，他肥了，我依旧瘦着，身处两地依旧相互支持，相互鼓励 ***<br><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/12.png"></p>
<hr>
<p>*** 那一年我们的成长是肆无忌惮的一件事情,而如今有一种成长叫痛并快乐着 ***</p>
<p><img src="/2022/04/29/%E9%82%A3%E4%B8%80%E5%B9%B4%E6%88%90%E9%95%BF%E6%98%AF%E8%82%86%E6%97%A0%E5%BF%8C%E6%83%AE%E7%9A%84%E4%B8%80%E4%BB%B6%E4%BA%8B%E6%83%85-%E8%80%8C%E5%A6%82%E4%BB%8A%E6%88%90%E6%89%8D%E7%9D%80%E7%97%9B%E5%B9%B6%E5%BF%AB%E4%B9%90%E7%9D%80/14.png"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2022/04/29/那一年成长是肆无忌惮的一件事情-而如今成才着痛并快乐着/#comments" class="ds-thread-count comments-count-link" data-thread-key="2022/04/29/那一年成长是肆无忌惮的一件事情-而如今成才着痛并快乐着/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2022/04/22/工作生活之余，别忘了给自己点乐趣-v-我的树莓派/" title="【置顶】工作生活之余，别忘了给自己点乐趣 ^v^" itemprop="url">【置顶】工作生活之余，别忘了给自己点乐趣 ^v^</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2022-04-21T18:40:21.000Z" itemprop="datePublished"> Published 2022-04-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/00005.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/00006.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/00008.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/0001.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/000012.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/000014.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/000018.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/000019.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/00002.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/00003.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/00004.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/00009.jpeg"></p>
<p><img src="/2022/04/22/%E5%B7%A5%E4%BD%9C%E7%94%9F%E6%B4%BB%E4%B9%8B%E4%BD%99%EF%BC%8C%E5%88%AB%E5%BF%98%E4%BA%86%E7%BB%99%E8%87%AA%E5%B7%B1%E7%82%B9%E4%B9%90%E8%B6%A3-v-%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE/000010.jpeg"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2022/04/22/工作生活之余，别忘了给自己点乐趣-v-我的树莓派/#comments" class="ds-thread-count comments-count-link" data-thread-key="2022/04/22/工作生活之余，别忘了给自己点乐趣-v-我的树莓派/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/07/04/Photoshop基本操作总结/" title="Photoshop基本操作总结" itemprop="url">Photoshop基本操作总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2020-07-04T09:57:00.000Z" itemprop="datePublished"> Published 2020-07-04</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="一-图层操作"><a href="#一-图层操作" class="headerlink" title="一. 图层操作"></a>一. <strong><strong>图层操作</strong></strong></h4><ol>
<li>选择图层，隐藏显示图层，锁定，解锁，改变图层顺序，移动图层</li>
<li>锁定像素，新建图层，图层分组，更改图层透明度</li>
<li>图层筛选</li>
<li>图层合并，图层混合，添加图层蒙版，增加图层填充<br> <img src="/2020/07/04/Photoshop%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93/0001.png"></li>
<li>特殊图层：文字图层，形状图层，智能对象图层，调整对象图层，剪切图层,特殊图层转换为普通图层使用栅格化来转换</li>
<li>设置图层样式：双击图层面板的某个图层，可以弹出图层样式编辑弹窗，可以通过这种方式来添加图层阴影等样式<br> <img src="/2020/07/04/Photoshop%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93/0002.png"></li>
<li>正常情况下调整层影响的是所有它之下的层，如果要指定某个层，将某个调整层和要应用的层放在一起，返回按下alt键盘，将光标移到两个层之间，这时候会出现一个向下箭头的提示，点击就可以了，还有一种方式是将两个层组合成组，然后光标选定组，<br>这时候默认模式为穿透，选择正常即可。</li>
<li>调整对象图层：<br>亮度对比度调节图层：一般发灰的照片调整对比度，发暗的照片调整亮度。<br>色阶调节图层：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/64420683">调整之“色阶”</a><br>颜色曲线调整<br>曝光度调节图层<br>自然饱和度调节图层<br>色相&#x2F;饱和度调节<br>色彩平衡调节<br>黑白调节<br>照片滤镜<br>通道混合器<br>反相<br>色调分离<br>阈值<br>可选颜色<br>渐变映射</li>
</ol>
<h4 id="二-对象选择操作"><a href="#二-对象选择操作" class="headerlink" title="二. 对象选择操作"></a>二. <strong><strong>对象选择操作</strong></strong></h4><ol>
<li>矩形&#x2F;椭圆选择工具，可以调整抗锯齿和羽化两个参数来修改选择效果。</li>
<li>使用魔棒工具来选中相似颜色的对象。这里最关键的有两个：“容差值”，容差值越小越精确但是选中的区域越小。“连续”：默认情况下只会选中连续的块，对于某些由于隔离导致而没选中的可以先取消连续后重新选择。</li>
<li>快速选择工具：很好用的一个选择工具能够快速得选择对象，比魔棒要精确</li>
<li>对象选择区域：这个速度有点慢，但是还是蛮精确的，适合于边缘比较清晰的场合。</li>
<li>套索工具，多边形套索，磁性套索，这些一般用于选择细节部分，按下Shift选择的区域会追加到已经选择的区域，按下Alt会从已经选择的区域减去。</li>
<li>使用选择菜单栏里面的颜色范围和焦点区域也可以进行选择。</li>
<li>边缘调整可以调整存在软边的情况：在使用某种工具初步选择完毕后可以使用选择并遮住来细节调整。</li>
<li>查看选中区域使用Q快捷键，要改变选区显示的方式可以双击工具栏底部倒数第二个按钮，对颜色透明度进行修改。反向选择可以使用Command + Shift + I 快捷键。Command + D取消选择</li>
<li>使用Command + T键可以切换到自由变换模式，按下Shift 可以锁住宽高不变。</li>
<li>可以对对象进行：操控变换，透视变换，缩放，旋转，斜切，扭曲，透视，变形&#x2F;拆分变形，水平垂直翻转，都在编辑菜单拦里面。</li>
<li>使用图层蒙版进行抠图：使用任意一个选区工具对对象进行初略选择，然后点击图层面板下面的剪切蒙层，就会新建一个剪切蒙层，这时候可以按下alt点击图层面板上的蒙层就会切换显示模式，这时候使用黑色画笔将要去掉的地方绘制，使用白色画笔在要恢复的地方绘制。</li>
<li>通过钢笔工具绘制轮廓，然后制作几何蒙层。</li>
</ol>
<h4 id="三-蒙版操作"><a href="#三-蒙版操作" class="headerlink" title="三. 蒙版操作"></a>三. <strong><strong>蒙版操作</strong></strong></h4><ol>
<li>使用图层蒙版进行抠图：使用任意一个选区工具对对象进行初略选择，然后点击图层面板下面的剪切蒙层，就会新建一个剪切蒙层，这时候可以按下alt点击图层面板上的蒙层就会切换显示模式，这时候使用黑色画笔将要去掉的地方绘制，使用白色画笔在要恢复的地方绘制。</li>
<li>几何蒙层：使用多边形或者其他形状绘制工具绘制出几何形状，然后在面板上新建一个剪切蒙层，和图层蒙层的区别是它的外部是灰色的不是黑色的。</li>
</ol>
<h4 id="四-智能对象操作"><a href="#四-智能对象操作" class="headerlink" title="四. 智能对象操作"></a>四. <strong><strong>智能对象操作</strong></strong></h4><ol>
<li>在正常工作过程中一般会将图片等对象转换为智能对象，这样缩放的时候不会损失画质，并且所有的操作都是无损的。将对象转换为智能对象可以通过：图层 –&gt; 智能对象 –&gt; 转换为智能对象。或者选中图层，右击选择转换为智能对象。</li>
<li>除了图片还可以将矢量工具转换为智能对象。还可以通过文件 –&gt; 置入链接智能对象，将外部对象导入到项目中。这样的好处是只要链接的智能对象修改了，所有导入的都会随之改变。这种情况在保存的时候注意使用文件 –&gt; 打包 将这些链接也打包进来。</li>
</ol>
<h4 id="五-绘图操作"><a href="#五-绘图操作" class="headerlink" title="五. 绘图操作"></a>五. <strong><strong>绘图操作</strong></strong></h4><ol>
<li>几个很重要的快捷键需要记住：</li>
</ol>
<ul>
<li>B 调出画笔</li>
<li>[] 调大调小画笔</li>
<li>Control + Alt + 横向拖动 改变大小，纵向拖动改变硬度。</li>
<li>数字键盘输入改变透明度</li>
</ul>
<ol start="2">
<li>画笔设置有两个重要面板：画笔面板，画笔，还有顶部的画笔设置工具栏</li>
<li>自定义画笔：绘制形状，选中形状，点击面板右上角的更多按钮，弹出对话框中选中新建画笔预设。编辑画笔。</li>
<li>PS中的矢量工具有：基本的形状绘制，直接选择和路径选择工具，钢笔工具。</li>
</ol>
<h4 id="六-文字操作"><a href="#六-文字操作" class="headerlink" title="六. 文字操作"></a>六. <strong><strong>文字操作</strong></strong></h4><ol>
<li>文字操作主要有两个主面板：字符面板和段落面板，以及字符样式面板和段落样式面板。</li>
<li>路径文字</li>
<li>将文字作为图片蒙版：将图片拖到文字上方，按住Alt点击图片和文字的中间即可。</li>
<li>文字景深制作：将要放在文字上方的通过剪切蒙版扣出来，底下放一个一样的图片，将文字放置于二者中间。<br> <img src="/2020/07/04/Photoshop%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93/0003.png"></li>
</ol>
<h4 id="七-图片操作"><a href="#七-图片操作" class="headerlink" title="七. 图片操作"></a>七. <strong><strong>图片操作</strong></strong></h4><ol>
<li><p>图片修复工具：</p>
<p> 在使用修复工具的时候有几步操作是必须的：新建图层，点击运用到所有层，有画笔的还可以选择打开画笔压感。<br> 最简单的是通过污点修复工具和修复工具来修复，修复工具需要按下alt + 点击鼠标选择采样点。后续的修复都是基于这些采样点来修复的。<br> 仿章工具它的特点是直接将采样点复制到对应的区域，没有做进一步的融合处理。还可以调出仿章工具面板，点击一个仿章源，在一个页面选择仿章采样点，切换到另一个页面就可以使用仿章工具，将形状复制过去了。</p>
</li>
<li><p>智能滤镜：<br> 将对象转换为智能对象，然后在智能对象之上添加滤镜效果。</p>
</li>
<li><p>内容感知功能：<br>内容感知包括内容感知移动（位于工具栏），内容感知缩放，内容识别填充，修补工具。<br>内容感知移动&#x2F;扩展的时候可以将原来的使用算法识别的内容填充，然后将新的内容通过算法融入到目标环境中。<br>内容感知缩放和内容感知填充也是同样道理。修补工具算是一个比较实用的工具，可以将选定的区域，使用目标区域来替换。</p>
</li>
<li><p>细节微调工具：<br>使用减淡，加深，和海绵工具可以对图像明度，暗度及饱和度细节调整。</p>
</li>
</ol>
<h4 id="八-钢笔操作"><a href="#八-钢笔操作" class="headerlink" title="八. 钢笔操作"></a>八. <strong><strong>钢笔操作</strong></strong></h4><ol>
<li>在PS中钢笔工具有两种用途，一种用于绘制路径，一种用于绘制图形，绘制图形的钢笔工具有描边和填充颜色，以及线条的设置，绘制路径的则没有这些配置，一般用于选择轮廓等用途。</li>
<li>在顶点点击不拖动会在两个顶点之间生成一条直线。</li>
<li>将钢笔放在在已经绘制的路径上点击会增加锚点，如果将钢笔工具放在已经绘制的顶点上则会删除锚点。</li>
<li>在绘制到第一个顶点，可以闭合后将会在钢笔的旁边出现一个圆形小圆圈</li>
<li>在绘制完成后可以按下alt键，这时候光标会显示一个箭头，这时候沿着绘制路径的方向可以将尖角改成圆角。</li>
<li>要改变锚点的位置可以通过直接选择工具来移动锚点。在绘制过程中如果需要改变位置可以在未抬起鼠标之前通过按下space移动。</li>
<li>在绘制圆角之后要绘制一个直角可以通过alt + 点击切换到直角模式。</li>
<li>要移动句柄可以通过按下Command + 点击句柄 移动</li>
<li>绘制完成后在AI中可以使用简化工具对路径进行简化：对象 –&gt; 路径 –&gt; 简化</li>
<li>选中后可以作为选区或者矢量蒙版，这些都可以通过右击在菜单中选中。</li>
<li>沿着路径填充描边：选择路径模式，右击路径，在弹出的菜单中选择填充描边。然后选择使用哪种工具填充。</li>
</ol>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>PS 中的关键词：图像，变换（对应编辑菜单），选择，滤镜，图层</p>
<p><img src="/2020/07/04/Photoshop%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93/0004.jpg"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2020/07/04/Photoshop基本操作总结/#comments" class="ds-thread-count comments-count-link" data-thread-key="2020/07/04/Photoshop基本操作总结/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/07/02/Adobe-Illustrator-学习记录/" title="Adobe Illustrator 技巧总结" itemprop="url">Adobe Illustrator 技巧总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2020-07-02T15:16:56.000Z" itemprop="datePublished"> Published 2020-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="一-画板操作："><a href="#一-画板操作：" class="headerlink" title="一 画板操作："></a>一 <strong><strong>画板操作</strong></strong>：</h4><p>一个文件可以保存多个画板，按下如下按钮：<img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0001.png"> 或者 Shift + O 可以激活画板编辑模式：<br>这时候选中一个画板顶部会出现一个编辑工具拦可以对画板板式，宽高，方向等进行编辑：<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0002.png"></p>
<p>画板的常用操作：</p>
<ol>
<li>在新建文档的时候批量新建多个画板</li>
<li>画板全部重新排列</li>
<li>画板重命名</li>
<li>画板尺寸修改</li>
</ol>
<h4 id="二-导航操作："><a href="#二-导航操作：" class="headerlink" title="二 导航操作："></a>二 <strong><strong>导航操作</strong></strong>：</h4><ol>
<li>Z 切换到放大镜模式 按下Alt键会切换到缩小模式</li>
<li>Command + 0 会将选中的放大到居于工作区合适的位置</li>
<li>Space 点击鼠标拖动会拖动整个画布</li>
<li>点击界面的左上角可以将多个文档同时打开，在这种模式可以很方便得将一个文档的对象，拖动到另一个文档。<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0003.png"></li>
</ol>
<h4 id="三-首选项设置"><a href="#三-首选项设置" class="headerlink" title="三 首选项设置:"></a>三 <strong><strong>首选项设置</strong></strong>:</h4><ol>
<li>打开首选项设置 Command + K</li>
<li>键盘增量设置，每次按下键盘会移动一个键盘增量，按下Shift每次按下键盘会移动10个键盘增量。</li>
<li>单位设置</li>
</ol>
<h4 id="四-基本形状操作"><a href="#四-基本形状操作" class="headerlink" title="四 基本形状操作:"></a>四 <strong><strong>基本形状操作</strong></strong>:</h4><p>AI中有如下的基本形状：<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0004.png"></p>
<p>相关快捷操作：</p>
<ol>
<li>M 矩形</li>
<li>L 椭圆形</li>
<li>画出多边形和星型的时候按下上下方向键盘会增加和减少边数</li>
<li>使用Shift 画出正方形和圆形</li>
<li>如果按下后发现放置的位置需要修改，可以按下Space键盘拖动形状到目标位置</li>
<li>Shift + M 快速切换描边色和填充色</li>
<li>D 快速恢复到默认状态</li>
<li>快速改变形状大小，快速设置圆角，快速旋转</li>
<li>形状生成器 快捷键(Shift + M) 正常情况下是将对应的块合并，如果按下Alt后滑动，表示挖去。</li>
<li>使用Shaper Shift + N 来画形状</li>
</ol>
<p>技能清单：</p>
<ol>
<li>画出基本形状，多边形和星型可以快速增加和减少边数，画出正方形和圆形</li>
<li>修改填充色和描边色，快速切换填充色和描边色，快速恢复到默认状态</li>
<li>修改描边的粗细，边角，虚线，箭头</li>
<li>偏移路径</li>
<li>基本形状变换：包括位置，尺寸，旋转角度，圆角，这里涉及到了变换面板<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0005.png"></li>
<li>打开缩放圆角，缩放描边和效果</li>
<li>AI也支持其他绘图工具的布尔运算，但是区别是在未确认是最终操作的时候需要按下Alt 避免自动扩展<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0006.png"></li>
<li>除了这些工具外还有一个非常强大的工具-形状生成器 快捷键(Shift + M) 正常情况下是将对应的块合并，如果按下Alt后滑动，表示挖去。</li>
<li>使用扩展</li>
<li>使用外观面板添加多个填充，多个描边的形状，</li>
</ol>
<h4 id="五-整理对象操作：-对齐，分组，放置到新图层，改变对象在层中的层级位置"><a href="#五-整理对象操作：-对齐，分组，放置到新图层，改变对象在层中的层级位置" class="headerlink" title="五 整理对象操作： 对齐，分组，放置到新图层，改变对象在层中的层级位置"></a>五 <strong><strong>整理对象操作</strong></strong>： 对齐，分组，放置到新图层，改变对象在层中的层级位置</h4><ol>
<li>对于某些已经确定的物体可以将其锁定起来，快捷键为Command + 2</li>
<li>使用魔板工具可以快速选中相似颜色的</li>
<li>套索工具可以选中物体的锚点进行操作。</li>
<li>最常用的两个选择工具，号称小黑和小白的V,A 组合。</li>
<li>Command + A 选择全部画板的全部对象, Command + Alt + A 选择当前画板的全部对象，Command + Shift + A 取消选择</li>
<li>使用Command + G 对对象进行编组操作，Command + Shift + G 取消编组</li>
<li>在图层面板新建一个图层使用Command + F 黏贴到最前面，然后改变对应层的层次结构</li>
<li>使用Command + []可以改变对象在图层中的层级关系</li>
<li>在工作中可以打开对齐面板来操作物体间的对齐操作，在对齐过程中如果需要辅助线，可以从标尺上拖动到某个位置就可以在当前位置添加一条辅助线。</li>
</ol>
<h4 id="六-颜色操作："><a href="#六-颜色操作：" class="headerlink" title="六 颜色操作："></a>六 <strong><strong>颜色操作</strong></strong>：</h4><p>AI中的着色工具包括：</p>
<ol>
<li>色板：负责选择颜色</li>
<li>颜色：负责某个颜色细调</li>
<li>颜色参考和Adobe Color Theme: 用于选择颜色</li>
<li>渐变工具：调整渐变</li>
<li>通过外观面板fx修改形状外观。</li>
<li>吸管工具 I</li>
<li>使用重新着色工具对某个对象进行调整颜色，一般用于没有灵感的情况下，尝试配色使用。<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0009.png"></li>
</ol>
<h4 id="七-绘图操作："><a href="#七-绘图操作：" class="headerlink" title="七 绘图操作："></a>七 <strong><strong>绘图操作</strong></strong>：</h4><ol>
<li><p>N 铅笔工具</p>
</li>
<li><p>B 画笔工具</p>
</li>
<li><p>Shift B 斑点画笔工具</p>
</li>
<li><p>铅笔，画笔设置项：保真度，平滑度，保持编辑状态，在一定距离的时候自动闭合，在某个距离继续画下去的时候会自动从上一次位置继续。</p>
</li>
<li><p>上色方法：<br> 5.1 使用斑点画笔工具，它的特点是可以将多次画的一块联合起来，并且可以使用[]来调整画笔宽度<br> 5.2 使用实时上色工具进行上色</p>
</li>
<li><p>其他绘图辅助工具：<br> 6.1 路径平滑工具：抹去线条的尖锐不平滑的地方<br> 6.2 连接工具：将对应的断开的线连接起来，然后使用平滑工具，锚点工具来编辑<br> 6.3 剪刀工具：用于断开路径<br> 6.4 橡皮擦工具：用于擦除内容<br> 6.5 美工刀工具：用于切割形状<br>7 绘图模式：<br> 7.1 正常绘图：在物体上一层绘图<br> 7.2 背面绘图：在物体的下一层绘图<br> 7.3 内部绘图：在物体轮廓内部绘图</p>
</li>
<li><p>钢笔工具：手动生成路径<br> 使用P快捷键调出钢笔工具。点击中间锚点会打断对称，直线只要点击不要拖动，而曲线需要拖动，起点和终点一个在高峰&#x2F;低谷的一边，一个在另一边。如果不确定可以按着space键移动。<br> 画完可以通过A 锚点工具来调整，+ 和删除锚点来修改，对于转折点可以使用Command点击拖动句柄来调整handler的方向，不要一味地在尖角的地方点终止，结束 command 点击屏幕</p>
</li>
<li><p>其他路径绘图工具<br> 除了使用 钢笔工具还可以使用曲率工具和重塑工具来绘制边界<br> 曲率工具： 先勾勒出轮廓，然后在调整轮廓的曲率，点击锚点可以在平滑和尖锐模式下切换<br> 重塑工具： 在钢笔绘制过程中按下alt切换到重塑工具，按下shift能够切换到半圆型，可以用这种方式画八卦<br> 弧线工具： x 切换方向   上下键 调整幅度<br> 弧线工具还有一个很好用的功能就是画下一个弧线的时候按住～移动会形成一个头发类似的东西。</p>
</li>
<li><p>变换工具<br>变形工具<br>旋转扭曲工具<br>缩融工具<br>膨胀工具<br>晶格工具<br>扇贝工具<br>褶皱工具<br>自由变换<br>操控变形<br>旋转,镜像<br>封套扭曲 可以作用于对象，或者文本：可以用变形，网格，或者顶部对象作为封套。工具的具体路径在: 对象 –&gt; 封套扭曲</p>
</li>
<li><p>同心圆形状<br>画单个 —-&gt; command + G —-&gt; 效果 —-&gt; 扭曲变换—&gt; 变换 —-&gt; 点击变换图案</p>
</li>
</ol>
<h4 id="八-文字操作："><a href="#八-文字操作：" class="headerlink" title="八 文字操作："></a>八 <strong><strong>文字操作</strong></strong>：</h4><ol>
<li>字体的常用编辑项目都在字体面板中：<br> <img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0007.png"></li>
<li>字距微调 alt + 左右键  alt + 上下 行距微调，选择字 shift + alt 微调基线</li>
<li>可以使用工具栏的修饰文字工具来旋转字体以及缩放文字大小</li>
<li>使用工具栏中的网格工具来对文字进行变形操作，变形的按钮将会出现在右上角顶部。还可以使用 “对象 —&gt; 封套扭曲 -&gt; 用顶层对象” 注意形状要位于上层</li>
<li>使用文字样式和段落样式来管理全局的样式，以便统一。</li>
<li>文字路径：画路径，切换到文字模式，贴近路径会出现提示，输入文字即可。点击选择工具会出现三个光标开始,结束,中间，开始和结束可以移动文本在path上的位置，中间是整体移动，还可以将字符移到路径上面和路径下面。<br>在形状外部和内部填充文字：<br>在外部填充文字需要按下alt 然后点击形状轮廓<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0008.png"><br>在内部填充只需要点击形状轮廓即可<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0009.png"></li>
<li>可以设计3D文字:在效果 –&gt; 3D中调出来调整面板</li>
<li>添加文字轮廓：<br>通过apearance 选中文本，新增填充，移动顺序从上到下 填充，字符 轮廓。修改轮廓大小</li>
<li>使用文字作为剪切蒙版：command + 7</li>
<li>可以设置文本环绕: 对象 -&gt; 文本环绕</li>
</ol>
<h4 id="九-剪切蒙版-和Sketch-不同AI剪切蒙版的模版在上面，内容在下面-："><a href="#九-剪切蒙版-和Sketch-不同AI剪切蒙版的模版在上面，内容在下面-：" class="headerlink" title="九 剪切蒙版 (和Sketch 不同AI剪切蒙版的模版在上面，内容在下面)："></a>九 <strong><strong>剪切蒙版</strong></strong> (和Sketch 不同AI剪切蒙版的模版在上面，内容在下面)：</h4><ol>
<li>形状剪切蒙版 :对象-&gt;剪切蒙版 或者Command + 7  上面作为蒙版，下面作为内容</li>
<li>透明度剪切蒙版 :渐变，黑的减去，白的留下底部 在透明度面板里面设置</li>
</ol>
<h4 id="十-符号-x2F-图案操作"><a href="#十-符号-x2F-图案操作" class="headerlink" title="十 符号&#x2F;图案操作"></a>十 <strong><strong>符号&#x2F;图案操作</strong></strong></h4><p>在我的理解中：图形样式，字符样式，段落样式以及符号都是用于管理整个项目使得项目具有统一的设计规范。</p>
<ol>
<li>符号：可以将某个对象，拖动到符号面板，建立动态连接，如果后续其他地方还需要这个符号，就直接从符号面板拖动。如果要修改可以通过点击符号面板中的符号统一修改，这样文档中的所有符号都同时修改。符号编辑工具：<br><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/0011.png"></li>
<li>图案：利用多个图像构成一个图案，之后可以添加到色版中作为填充使用。创建图案方法: 对象 -&gt; 图案 -&gt; 建立。 图案编辑可以使用图案面板。</li>
</ol>
<h4 id="十一-其他高级操作"><a href="#十一-其他高级操作" class="headerlink" title="十一 其他高级操作"></a>十一 <strong><strong>其他高级操作</strong></strong></h4><ol>
<li>数据可视化表格操作</li>
<li>渐变网格</li>
<li>绘制透视视图</li>
<li>混合对象</li>
</ol>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong><strong>总结</strong></strong></h4><p>AI 中最关键的几个关键字：形状（路径），绘图，笔刷，颜色，文本</p>
<p><img src="/2020/07/02/Adobe-Illustrator-%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/00012.jpg"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2020/07/02/Adobe-Illustrator-学习记录/#comments" class="ds-thread-count comments-count-link" data-thread-key="2020/07/02/Adobe-Illustrator-学习记录/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/07/01/Sketch的技巧总结/" title="Sketch的技巧总结" itemprop="url">Sketch的技巧总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2020-07-01T14:42:19.000Z" itemprop="datePublished"> Published 2020-07-01</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="常用快捷键："><a href="#常用快捷键：" class="headerlink" title="常用快捷键："></a>常用快捷键：</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>介绍</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>插入画板</td>
</tr>
<tr>
<td>R</td>
<td>插入矩形</td>
</tr>
<tr>
<td>U</td>
<td>插入圆角矩形</td>
</tr>
<tr>
<td>O</td>
<td>插入圆形</td>
</tr>
<tr>
<td>V</td>
<td>矢量工具</td>
</tr>
<tr>
<td>T</td>
<td>插入文本</td>
</tr>
<tr>
<td>P</td>
<td>画笔</td>
</tr>
<tr>
<td>S</td>
<td>切片 (Export group content only 只到处组的内容，不包含背景&#x2F;trim transparent pixel,会删除多余的透明像素)</td>
</tr>
<tr>
<td>B</td>
<td>是否显示边界</td>
</tr>
<tr>
<td>F</td>
<td>是否填充</td>
</tr>
<tr>
<td>Tab</td>
<td>在组件列表中上下移动</td>
</tr>
<tr>
<td>Command + Alt + C&#x2F;V</td>
<td>复制黏贴样式</td>
</tr>
<tr>
<td>Command + C&#x2F;V</td>
<td>复制黏贴对象</td>
</tr>
<tr>
<td>Alt + 拖动</td>
<td>复制</td>
</tr>
<tr>
<td>Command + D</td>
<td>就地复制</td>
</tr>
<tr>
<td>Command + Alt + F</td>
<td>查找并替换颜色</td>
</tr>
<tr>
<td>Command + R</td>
<td>重命名组件</td>
</tr>
<tr>
<td>Control  + C</td>
<td>选取颜色</td>
</tr>
<tr>
<td>Command + Shift  H</td>
<td>隐藏</td>
</tr>
<tr>
<td>Command + Shift  L</td>
<td>锁定</td>
</tr>
<tr>
<td>Command + G</td>
<td>成组</td>
</tr>
<tr>
<td>Command + Shift + G</td>
<td>分组</td>
</tr>
<tr>
<td>Command + 2</td>
<td>放大选中的</td>
</tr>
<tr>
<td>Command + 4</td>
<td>放大当前的画板</td>
</tr>
<tr>
<td>Command + Control + F</td>
<td>进入全屏</td>
</tr>
<tr>
<td>Command + 单击</td>
<td>直接选择</td>
</tr>
<tr>
<td>按住空格键 + 移动</td>
<td>移动画布</td>
</tr>
<tr>
<td>Command + Shift + D</td>
<td>切换数据</td>
</tr>
<tr>
<td>Command + Shift + E</td>
<td>导出</td>
</tr>
<tr>
<td>按住 option 不放，鼠标放到另一个元素上</td>
<td>查看间距</td>
</tr>
<tr>
<td>Command-K</td>
<td>图层矢量缩放</td>
</tr>
<tr>
<td>Command + Alt +&#x2F;-</td>
<td>对字体进行缩放</td>
</tr>
<tr>
<td>Command + Shift { }</td>
<td>字体对齐</td>
</tr>
<tr>
<td>Command + -</td>
<td>缩放</td>
</tr>
<tr>
<td>Command + []</td>
<td>层级上下更改</td>
</tr>
</tbody></table>
<h3 id="常见技巧："><a href="#常见技巧：" class="headerlink" title="常见技巧："></a>常见技巧：</h3><ul>
<li><p><strong><strong>加减乘除</strong></strong><br>  做界面的时候经常会出现这样的情况，要把一个图形均分三等分、四等分的，或者说加上30px、40px，这时候要手动去计算，然后再去输入，很浪费时间成本，而且对于数学不好的人来说，还容易算错。<br>  其实 sketch 自带就有一些快捷方法，在右侧尺寸大小的面板处，可以直接在尺寸后输入「+」「-」「*」「&#x2F;」，后面跟上数字，输完之后确定，就可以得到想要的计算结果了。</p>
</li>
<li><p><strong><strong>不透明度设置</strong></strong><br>  当要改变一个元素的不透明度的时候，没有必要到右侧的参数面板来修改，可以直接按数字来调整，比如你想把不透明度改到65%，那么选中这个元素后，直接按数字65就好了，不满意还可以重新输入新的数字，当不透明度是整数的时候，可以直接输入数字1234567890，就不用输「80」「90」了。</p>
</li>
<li><p><strong><strong>移动微调</strong></strong><br>  按住 shift 不放，选择「上下左右」可以快速移动10px</p>
</li>
<li><p><strong><strong>鼠标、Shift、Option实现快速修改</strong></strong></p>
<p>  主界面中的右侧的属性栏中可以单击属性值以快速递增或递减该值（注意要把鼠标放在文字的上下方位内，出现左右箭头才可以快速修改）。如果按住 Shift键，Sketch 将相应地将值递增或递减10倍，按住 Option键会将其增加&#x2F;减少十分之一。</p>
</li>
<li><p><strong><strong>输入方式更改大小和圆角</strong></strong></p>
<p>  支持简单数学公式，支持样式单位L（中心点左对齐）R（中心点居右）C（中心点居中）M（中心点居中）T（中心点置顶）B（中心点底部对齐），支持圆角快速自定义（格式是X;Y;N;M，顺序是左上-右上-右下-左下），能帮助快速精确调整，是不是很高级？</p>
</li>
<li><p><strong><strong>图层对齐</strong></strong><br>  图层对齐也是经常要用到的操作。直接与对象对齐的话，Sketch 会将图层对齐到所有选定对象的最外层。但要将图层与特定对象对齐，怎么操作呢？比如想让下图中两个元素以正方形为参照物进行居中，那应该先使用图层列表中的锁定按钮或使用 Shift-Command-L  锁定该图层，然后再执行对齐操作即可。</p>
</li>
<li><p><strong><strong>快速定位到上一级层级</strong></strong><br>  在很多图层未整理，处于比较混乱的情况下，按 command+鼠标左键只能快速的选到某个具体图层，但是接着你又在想，如果我还能一键快速选到图层所在的组，那该多好。<br>方法是在选择具体图层后，按键盘上的 esc 键，能快速选择图层所在的上一级，可能是组，也可以是更上一级的组，甚至能快速选到画板，是不是很方便？选择后如果要移动就按 option+command，还能避免误操作。</p>
</li>
</ul>
<h3 id="技能清单："><a href="#技能清单：" class="headerlink" title="技能清单："></a>技能清单：</h3><ul>
<li><p>形状&#x2F;文本&#x2F;图片编辑<br>位置设置(X,Y,W,H,旋转角度，镜像，圆角)<br>填充（渐变，色彩，图片），边框（颜色，边框位置，宽度，结束点，衔接部位，虚线样式），阴影，内阴影，模糊<br>缩放，变换，旋转，横向翻转，纵向翻转，布局约束<br>文本路径</p>
</li>
<li><p>布尔运算&#x2F;蒙版&#x2F;钢笔工具&#x2F;路径<br>形状蒙版，透明蒙版<br>关闭路径，反向路径，裁剪路径，旋转复制，偏移，文本路径<br>[蒙版] 下层负责显示形状，上层负责显示内容,一旦添加蒙版，上层的所有都会受到影响，可以使用ignore underling mark layer,添加蒙版可以选中底部的决定形状的图形，然后点击mark with selected shape 或者工具栏的mask图标</p>
</li>
<li><p>切图&#x2F;标注&#x2F;导出</p>
</li>
<li><p>图层&#x2F;编组&#x2F;对齐&#x2F;分布&#x2F;Make Grid&#x2F;Copy Rotate</p>
</li>
<li><p>Flaten&#x2F;Outline</p>
</li>
<li><p>Text Style&#x2F;Layer Style&#x2F;Symbols 复用样式<br>Symbol 嵌套Symbol: 创建最外框，将最外框打包成组，将组创建成Symbol，点击Symbol 进入Symbols 界面。在里面添加某个控件，将这个控件创建成Symbol,在Symbol中选中新建的Symbol(这里不要选错了),Command + D复制一份。修改属性，比如下面的bg和avator</p>
</li>
</ul>
<h3 id="较好的文章"><a href="#较好的文章" class="headerlink" title="较好的文章"></a>较好的文章</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/69358464">Sketch自带的Data(数据)功能怎么用？Data可智能填充图片、文本数据 - 知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://www.uihacker.com/sketch-data/">怎么快速给界面填充图文数据？Sketch数据源轻松解决 - UI黑客</a></li>
<li><a target="_blank" rel="noopener" href="https://www.uisdc.com/symbol-build-component-library">Sketch 进阶教程！利用Symbol 建立一套设计规范组件库？ | 优设网 - UISDC</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/c5e796b55044">如何用Sketch中Symbol&#x2F;Styled Text制作设计规范 - 简书</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/29220802">「技法」五步学会用 Sketch 的功能 shared text 搭建字体样式库 - 知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://www.uisdc.com/symbol-build-component-library">Sketch 进阶教程！利用Symbol 建立一套设计规范组件库？ | 优设网 - UISDC</a></li>
<li><a target="_blank" rel="noopener" href="https://www.uisdc.com/use-symbol-in-sketch">这样使用Sketch的Symbol功能，能极大提高你的工作效率！ | 优设网 - UISDC</a></li>
<li><a target="_blank" rel="noopener" href="https://www.uibaba.com/article/1033.html">干货：帮你从零开始学会用Sketch做设计规范（一） - UI巴巴</a></li>
<li><a target="_blank" rel="noopener" href="https://www.yuque.com/jingwhale/tool/syd5oz">建立一套设计规范组件库 · 语雀</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.envylabs.com/symbol-in-a-symbol-building-design-systems-in-sketch-30b8d167506e">Symbol in a Symbol: Building Design Systems in Sketch</a></li>
<li><a target="_blank" rel="noopener" href="http://beforweb.com/node/943">使用Sketch Libraries构建组件库&#x2F;设计体系</a></li>
<li><a target="_blank" rel="noopener" href="https://www.shejidaren.com/sketch-zhujian-sheji.html">学会组件UI设计，5分钟快速修改100多个界面 | 设计达人</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/uwillx/%E5%88%A9%E7%94%A8sketch%E6%96%BC%E8%A8%AD%E8%A8%88%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B-b98664419454">利用Sketch於設計流程 - uwillx - Medium</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/sketch-app-sources/text-styles-mastery-with-sketch-52-dc00c7fe1aa6">Text Styles Mastery with Sketch 52+ - Design + Sketch - Medium</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2020/07/01/Sketch的技巧总结/#comments" class="ds-thread-count comments-count-link" data-thread-key="2020/07/01/Sketch的技巧总结/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/02/08/iOS-相关总结博客列表/" title="iOS 系列相关总结博客目录列表" itemprop="url">iOS 系列相关总结博客目录列表</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2020-02-07T16:33:59.000Z" itemprop="datePublished"> Published 2020-02-08</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>1.<strong><strong>Objective C 相关</strong></strong></p>
<ul>
<li><a href>Objective C 代码规范</a></li>
<li><a href>iOS中的宏用法简单总结</a></li>
<li><a href>iOS 内存管理总结</a></li>
<li><a href>iOS Autorelease Pool 总结</a></li>
<li><a href>iOS 分类扩展与协议总结</a></li>
<li><a href>iOS Block 总结</a></li>
<li><a href>iOS Runloop 总结</a></li>
<li><a href>iOS KVC KVO 总结</a></li>
<li><a href>iOS 学习记录[一] 图解生命周期</a></li>
<li><a href>iOS-Runtime源码解析之Runtime较好的文章推荐</a></li>
<li><a href>iOS Runtime源码解析Mach O 结构</a></li>
<li><a href>iOS Runtime源码解析之App启动</a></li>
<li><a href>iOS Runtime源码解析之dyld</a></li>
<li><a href>iOS Runtime源码解析重要的数据结构介绍</a></li>
<li><a href>iOS Runtime源码解析 Runtime初始化</a></li>
<li><a href>iOS Runtime源码解析消息处理</a></li>
<li><a href>iOS Runtime源码解析initialize load __attribute__总结</a></li>
<li><a href>iOS Runtime应用之Method Swizzling</a></li>
<li><a href>iOS Runtime应用之多继承</a></li>
<li><a href>iOS Runtime应用之Runtime API分类</a></li>
<li><a href>图解iOS系列之Runtime（一）MachO 介绍</a></li>
<li><a href>图解iOS系列之Runtime（二）基本数据结构</a></li>
<li><a href>图解iOS系列之Runtime（三）应用启动到main 过程的操作</a></li>
<li><a href>图解iOS系列之Runtime（四）发送消息流程</a></li>
<li><a href>图解iOS系列之Runtime（五) 对象创建，关联对象 自动释放池</a></li>
</ul>
<p>2.<strong><strong>iOS基础相关</strong></strong></p>
<ul>
<li><a href>iOS 生命周期</a></li>
<li><a href>iOS 渲染系统工作原理介绍</a></li>
<li><a href>iOS 渲染框架Core Graphic</a></li>
<li><a href>iOS 布局总结</a></li>
<li><a href>iOS 动画总结</a></li>
<li><a href>iOS 事件及手势处理流程</a></li>
<li><a href>iOS KeyChain 总结</a></li>
<li><a href>iOS 多线程总结 [一] - 基本概念 GCD NSOperation</a></li>
<li><a href>iOS 多线程总结 [二] - 线程安全</a></li>
<li><a href>XCode 快捷键</a></li>
<li><a href>使用LLDB来辅助调试iOS程序</a></li>
<li><a href>Cocopods 使用</a></li>
<li><a href>iOS 推送总结</a></li>
<li><a href>iOS 支付内购</a></li>
<li><a href>iOS 上架流程</a></li>
</ul>
<p>3.<strong><strong>iOS进阶相关</strong></strong></p>
<ul>
<li><a href>iOS 性能优化总结</a></li>
<li><a href>iOS 动态化方案总结</a></li>
<li><a href>iOS 跨平台方案总结</a></li>
<li><a href>iOS 组件化总结</a></li>
</ul>
<p>4.<strong><strong>iOS 源码分析系列</strong></strong></p>
<ul>
<li><a href>图解iOS之ReactiveObjc 部分重要概念及操作简图 一</a></li>
<li><a href>图解iOS之ReactiveObjc 部分重要概念及操作简图 二</a></li>
<li><a href>[转]RAC 知识点汇总 总结得非常全</a></li>
<li><a href>JSPatch源码分析</a></li>
<li><a href>Aspect源码解析</a></li>
<li><a href>图解iOS之GVUserDefaults</a></li>
<li><a href>JLRoute源码解析</a></li>
<li><a href>iOS 基于JLRoute 改造的路由</a></li>
<li><a href>图解移动端日志系统</a></li>
<li><a href>YYCache 源码解析</a></li>
<li><a href>ijkplayer 源码分析</a></li>
<li><a href>图解加解密</a></li>
<li><a href>加解密技术概述</a></li>
<li><a href>基于AutoLayout的开源布局库Masonry源码解析</a></li>
<li><a href>在项目中使用Yoga 布局引擎</a></li>
<li><a href>YYText 使用详解</a></li>
<li><a href>Texture 一 简要介绍</a></li>
<li><a href>Texture 二 基本使用Node及布局</a></li>
<li><a href>Texture 五 Texture源码解析</a></li>
<li><a href>Texture 六 Texture 的其他用法</a></li>
<li><a href>YYDispatchQueuePool 源码解析</a></li>
<li><a href>YYModel 源码解析</a></li>
<li><a href>MLeaksFinder 源码解析</a></li>
<li><a href>PromiseKit 的使用</a></li>
<li><a href>BlocksKit 的使用</a></li>
<li><a href>FBRetainCycleDetector FBAllocationTracker 源码解析</a></li>
<li><a href>日志库CocoaLumberjack 源码解析</a></li>
<li><a href>SDWebImage 源码解析</a></li>
<li><a href>YTKNetWork源码解析</a></li>
<li><a href>AFNetWorking源码解析</a></li>
<li><a href>iOS开源库之SRWebSocket源码解析</a></li>
<li><a href>YYAsyncLayer 源码解析</a></li>
<li><a href>Mars源码分析介绍</a></li>
<li><a href>MJRefresh 使用及源码分析</a></li>
<li><a href>IGKListKit 使用及源码分析</a></li>
<li><a href>iOS开源库源码解析组件化BeeHive</a></li>
<li><a href>iOS开源库之objection 源码解析</a></li>
<li><a href>iOS开源库之fishhook 概述</a></li>
<li><a href>iOS开源库之coobjc使用</a></li>
</ul>
<p>5.<strong><strong>音视频相关</strong></strong></p>
<ul>
<li><a href>iOS 音视频专题目录篇</a></li>
<li><a href>iOS 直播技术总结[一] 图解iOS移动端直播技术框架</a></li>
<li><a href>iOS 直播技术总结[二] 图解CDN架构</a></li>
<li><a href>iOS 直播技术总结 [三] 图解 AV Foundation初步结构与音视频基础知识</a></li>
<li><a href>iOS 直播技术总结 [四] 图解 音视频数据采集</a></li>
<li><a href>iOS 直播技术总结 五 音视频数据处理 [使用Core Image]</a></li>
<li><a href>iOS 直播技术总结 六 音视频数据处理 [使用GPUImage2]</a></li>
<li><a href>iOS 直播技术总结 七 第一阶段总图</a></li>
</ul>
<p>6.<strong><strong>iOS 设计相关</strong></strong></p>
<ul>
<li><a href>iOS 设计规范整理</a></li>
</ul>
<p>7.<strong><strong>其他</strong></strong></p>
<ul>
<li><a href>工作生活之余，别忘了给自己点乐趣 ^v^</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB%E7%9B%AE%E5%BD%95/">博客分类目录</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/博客分类目录/">博客分类目录</a>
  </div>

</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2020/02/08/iOS-相关总结博客列表/#comments" class="ds-thread-count comments-count-link" data-thread-key="2020/02/08/iOS-相关总结博客列表/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/02/06/iOS-Runtime应用之带大家熟悉Runtime-API/" title="iOS Runtime应用之Runtime API分类" itemprop="url">iOS Runtime应用之Runtime API分类</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2020-02-06T03:44:53.000Z" itemprop="datePublished"> Published 2020-02-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>本打算这个系列结束的，但是由于疫情影响在家的这几天有空闲时间，想着把这块也整理下，今天这篇文章打算带大家熟悉下Runtime API.其这部分和Runtime重要的数据结构紧密相关，通过<strong><strong>objc&#x2F;runtime.h</strong></strong>无非就是获得类，对象，Method,SEL,IMP,Ivar,Property,Protocal相关类以及对应的属性。这块还是蛮有规律的，最早接触Runtime还是蛮抗拒的，后面才慢慢觉得它的强大。废话不多说这篇博客主要分两大部分，一部分介绍上面提到的这些数据结构相关的数据，另一部分介绍十分重要的类型编码和属性编码。搞定这两部分估计大家在使用上就会游刃有余了，但是还是建立在理解Runtime各个环节的基础上。</p>
<p>这里推荐大家用<strong><strong>Cooci</strong></strong>可编译苹果官方源码objc来写demo这样可以比较方便得调试整个过程，这也是最近才发现的一个很棒的开源库，之前研究底层代码的时候要是早点发现这个就不会那么纠结了。好东西不私藏。<a target="_blank" rel="noopener" href="https://github.com/LGCooci/objc4_debug">https://github.com/LGCooci/objc4_debug</a>:</p>
<p>在开始之前建议大家通读下我的《iOS Runtime源码分析系列》的博客，当然在这篇博客介绍的时候还会简要提一下相关内容。好了我们开始我们的API之旅：</p>
<p>首先是类相关的，这些都以****class_****开头：</p>
<h6 id="类相关："><a href="#类相关：" class="headerlink" title="类相关："></a><strong><strong>类相关：</strong></strong></h6><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//获取类名</span></span><br><span class="line">OBJC_EXPORT const <span class="built_in">char</span><span class="operator"> * </span>_Nonnull <span class="keyword">class</span><span class="constructor">_getName(Class <span class="params">_Nullable</span> <span class="params">cls</span>)</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">//获取isa</span></span><br><span class="line">OBJC_EXPORT Class _Nullable <span class="keyword">object</span><span class="constructor">_getClass(<span class="params">id</span> <span class="params">_Nullable</span> <span class="params">obj</span>)</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">//获取父类</span></span><br><span class="line">OBJC_EXPORT Class _Nullable <span class="keyword">class</span><span class="constructor">_getSuperclass(Class <span class="params">_Nullable</span> <span class="params">cls</span>)</span> </span><br><span class="line"></span><br><span class="line">获取实例变量的信息</span><br><span class="line"><span class="number">1.</span>实例变量是指变量不是属性.每个属性都有对应的实例变量，比如下面例子中包含属性name,那么它对应的实例变量为_name</span><br><span class="line"><span class="number">2.</span>这个方法可以获取属性的变量,也可以获取私有变量</span><br><span class="line"><span class="number">3.</span>如果没有找到对应的实例变量，就会返回nil</span><br><span class="line"><span class="number">4.</span>返回的列表不包含父类的实例变量</span><br><span class="line">Ivar <span class="keyword">class</span><span class="constructor">_getClassVariable(Class <span class="params">cls</span>, <span class="params">const</span> <span class="params">char</span> <span class="operator">*</span><span class="params">name</span>)</span></span><br><span class="line"></span><br><span class="line">获取属性:</span><br><span class="line">这个方法只能获得属性，不能获得变量</span><br><span class="line">objc_property_t <span class="keyword">class</span><span class="constructor">_getProperty(Class <span class="params">cls</span>, <span class="params">const</span> <span class="params">char</span> <span class="operator">*</span><span class="params">name</span>)</span></span><br><span class="line"></span><br><span class="line">获取实例方法信息</span><br><span class="line">OBJC_EXPORT Method _Nullable <span class="keyword">class</span><span class="constructor">_getInstanceMethod(Class <span class="params">_Nullable</span> <span class="params">cls</span>, SEL <span class="params">_Nonnull</span> <span class="params">name</span>)</span>;</span><br><span class="line"></span><br><span class="line">获取类方法信息</span><br><span class="line">OBJC_EXPORT Method _Nullable <span class="keyword">class</span><span class="constructor">_getClassMethod(Class <span class="params">_Nullable</span> <span class="params">cls</span>, SEL <span class="params">_Nonnull</span> <span class="params">name</span>)</span></span><br><span class="line"></span><br><span class="line">获取SEL对应的实现体，也就是IMP</span><br><span class="line">IMP <span class="keyword">class</span><span class="constructor">_getMethodImplementation(Class <span class="params">cls</span>, SEL <span class="params">name</span>)</span></span><br></pre></td></tr></table></figure>

<p>通过这部分接口可以获得类名，父类，实例变量，属性，实例方法，类方法和IMP,注意这里只是获取单个的并不是全部的数据。如果要获得全部的就需要class_copyXXXX了。</p>
<p>获取数据列表类：</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取实例变量列表</span></span><br><span class="line"><span class="comment">//1.获取所有[==私有变量==]和属性对应的变量</span></span><br><span class="line"><span class="comment">//2.获取的私有变量的名和定义的名一样</span></span><br><span class="line"><span class="comment">//3.获取的属性的名前面都添加了[下划线]</span></span><br><span class="line"><span class="comment">//4.注意这里[不包括父类的实例变量]</span></span><br><span class="line">OBJC_EXPORT Ivar _Nonnull<span class="operator"> * </span>_Nullable <span class="keyword">class</span><span class="constructor">_copyIvarList(Class <span class="params">_Nullable</span> <span class="params">cls</span>, <span class="params">unsigned</span> <span class="params">int</span> <span class="operator">*</span> <span class="params">_Nullable</span> <span class="params">outCount</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取方法列表</span></span><br><span class="line"><span class="comment">//1.获取所有实例方法,[==不包含静态方法==]</span></span><br><span class="line"><span class="comment">//2.不获取[父类的方法]</span></span><br><span class="line"><span class="comment">//3.[隐式的get set 方法也能获取到]</span></span><br><span class="line"><span class="comment">//4.[==可以获取分类和动态添加的方法==]。</span></span><br><span class="line">OBJC_EXPORT Method _Nonnull<span class="operator"> * </span>_Nullable <span class="keyword">class</span><span class="constructor">_copyMethodList(Class <span class="params">_Nullable</span> <span class="params">cls</span>, <span class="params">unsigned</span> <span class="params">int</span> <span class="operator">*</span> <span class="params">_Nullable</span> <span class="params">outCount</span>)</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">//获取协议列表</span></span><br><span class="line"><span class="comment">//不能获取分类实现的协议</span></span><br><span class="line">OBJC_EXPORT Protocol<span class="operator"> * </span>__unsafe_unretained _Nonnull<span class="operator"> * </span>_Nullable </span><br><span class="line"><span class="keyword">class</span><span class="constructor">_copyProtocolList(Class <span class="params">_Nullable</span> <span class="params">cls</span>, <span class="params">unsigned</span> <span class="params">int</span> <span class="operator">*</span> <span class="params">_Nullable</span> <span class="params">outCount</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取属性列表</span></span><br><span class="line"><span class="comment">//1.获取的属性名不自动添加下划线</span></span><br><span class="line"><span class="comment">//2.[不能获取Category添加的属性]。</span></span><br><span class="line">OBJC_EXPORT objc_property_t _Nonnull<span class="operator"> * </span>_Nullable</span><br><span class="line"><span class="keyword">class</span><span class="constructor">_copyPropertyList(Class <span class="params">_Nullable</span> <span class="params">cls</span>, <span class="params">unsigned</span> <span class="params">int</span> <span class="operator">*</span> <span class="params">_Nullable</span> <span class="params">outCount</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这些方法都需要注意最后调用free释放掉存放copy来的空间</p>
<figure class="highlight sqf"><table><tr><td class="code"><pre><span class="line">添加方法</span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line">class_addMethod(Class <span class="variable">_Nullable</span> cls, SEL <span class="variable">_Nonnull</span> <span class="built_in">name</span>, IMP <span class="variable">_Nonnull</span> imp, </span><br><span class="line">                const char * <span class="variable">_Nullable</span> types) </span><br><span class="line"></span><br><span class="line">添加实例变量</span><br><span class="line"><span class="comment">//1.只能给动态创建的类添加变量也就是用 objc_allocateClassPair 创建的类</span></span><br><span class="line"><span class="comment">//2.添加变量只能在函数 objc_allocateClassPair 和 class_getInstanceVariable 之间添加才有效</span></span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line">class_addIvar(Class <span class="variable">_Nullable</span> cls, const char * <span class="variable">_Nonnull</span> <span class="built_in">name</span>, size_t <span class="built_in">size</span>, </span><br><span class="line">              uint8_t alignment, const char * <span class="variable">_Nullable</span> types) </span><br><span class="line"></span><br><span class="line">添加协议</span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line">class_addProtocol(Class <span class="variable">_Nullable</span> cls, Protocol * <span class="variable">_Nonnull</span> protocol) </span><br><span class="line"></span><br><span class="line"><span class="comment">//添加属性</span></span><br><span class="line"><span class="comment">//1. 添加属性不用在objc_registerClassPair之前,因为添加属性其实就是添加变量的set 和 get方法而已</span></span><br><span class="line"><span class="comment">//2. 添加的属性和变量不能用kvc设置值和取值</span></span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line">class_addProperty(Class <span class="variable">_Nullable</span> cls, const char * <span class="variable">_Nonnull</span> <span class="built_in">name</span>,</span><br><span class="line">                  const objc_property_attribute_t * <span class="variable">_Nullable</span> attributes,</span><br><span class="line">                  unsigned int attributeCount)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight sqf"><table><tr><td class="code"><pre><span class="line">替换方法</span><br><span class="line">OBJC_EXPORT IMP <span class="variable">_Nullable</span></span><br><span class="line">class_replaceMethod(Class <span class="variable">_Nullable</span> cls, SEL <span class="variable">_Nonnull</span> <span class="built_in">name</span>, IMP <span class="variable">_Nonnull</span> imp, const char * <span class="variable">_Nullable</span> types) </span><br><span class="line"></span><br><span class="line">替换属性</span><br><span class="line">OBJC_EXPORT void</span><br><span class="line">class_replaceProperty(Class <span class="variable">_Nullable</span> cls, const char * <span class="variable">_Nonnull</span> <span class="built_in">name</span>,</span><br><span class="line">                      const objc_property_attribute_t * <span class="variable">_Nullable</span> attributes,</span><br><span class="line">                      unsigned int attributeCount)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">创建实例</span><br><span class="line">OBJC_EXPORT id _Nullable</span><br><span class="line"><span class="keyword">class</span><span class="constructor">_createInstance(Class <span class="params">_Nullable</span> <span class="params">cls</span>, <span class="params">size_t</span> <span class="params">extraBytes</span>)</span></span><br><span class="line"></span><br><span class="line">遵循协议</span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line"><span class="keyword">class</span><span class="constructor">_conformsToProtocol(Class <span class="params">_Nullable</span> <span class="params">cls</span>, Protocol <span class="operator">*</span> <span class="params">_Nullable</span> <span class="params">protocol</span>)</span> </span><br><span class="line"></span><br><span class="line">判断是否响应某个SEL</span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line"><span class="keyword">class</span><span class="constructor">_respondsToSelector(Class <span class="params">_Nullable</span> <span class="params">cls</span>, SEL <span class="params">_Nonnull</span> <span class="params">sel</span>)</span> </span><br></pre></td></tr></table></figure>

<p>下面是简要的实例：</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLTestObject</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *privateInstanceVar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>, <span class="keyword">readwrite</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>, <span class="keyword">readwrite</span>) <span class="built_in">NSInteger</span> age;</span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)testInstanceMethod;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_END</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&quot;IDLTestObject.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLTestObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)testInstanceMethod &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;run testInstanceMethod&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="type">void</span>)testClassMethod &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;testclassMethod&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>


<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取类名</span></span><br><span class="line"><span class="keyword">const</span> <span class="type">char</span> *className = class_getName([IDLTestObject <span class="keyword">class</span>]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;className : %@&quot;</span>,[<span class="built_in">NSString</span> stringWithUTF8String:className]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取父类</span></span><br><span class="line">Class superClass = class_getSuperclass([IDLTestObject <span class="keyword">class</span>]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;superClass : %@&quot;</span>, <span class="built_in">NSStringFromClass</span>(superClass));</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取实例对象的大小</span></span><br><span class="line">size_t instanceSize = class_getInstanceSize([IDLTestObject <span class="keyword">class</span>]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;instanceSize = %zu&quot;</span>,instanceSize);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取实例变量信息 如果没有找到会返回nil</span></span><br><span class="line">Ivar nameVar = class_getInstanceVariable([IDLTestObject <span class="keyword">class</span>], [<span class="string">@&quot;_name&quot;</span> UTF8String]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;InstanceVariable :%@&quot;</span>,[<span class="built_in">NSString</span> stringWithUTF8String:ivar_getName(nameVar)]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;Instance Variable TypeEncoding:%@&quot;</span>,[<span class="built_in">NSString</span> stringWithUTF8String:ivar_getTypeEncoding(nameVar)]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;Instance Variable Offset:%td&quot;</span>,ivar_getOffset(nameVar));</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取实例变量列表</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> outCount = <span class="number">0</span>;</span><br><span class="line">Ivar *varList = class_copyIvarList([IDLTestObject <span class="keyword">class</span>], &amp;outCount);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">int</span> index = <span class="number">0</span> ;index &lt; outCount; index++) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;var %u = %@&quot;</span>,index,[<span class="built_in">NSString</span> stringWithUTF8String:ivar_getName(varList[index])]);</span><br><span class="line">&#125;</span><br><span class="line">free(varList);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取对象属性</span></span><br><span class="line">objc_property_t property = class_getProperty([IDLTestObject <span class="keyword">class</span>], [<span class="string">@&quot;age&quot;</span> UTF8String]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;Instance Property Name :%@&quot;</span>,[<span class="built_in">NSString</span> stringWithUTF8String:property_getName(property)]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;Instance Property Attribute:%@&quot;</span>,[<span class="built_in">NSString</span> stringWithUTF8String:property_getAttributes(property)]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取实例方法</span></span><br><span class="line">Method method = class_getInstanceMethod([IDLTestObject <span class="keyword">class</span>], <span class="keyword">@selector</span>(testInstanceMethod));</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;get InstanceMethod %@&quot;</span>,<span class="built_in">NSStringFromSelector</span>(method_getName(method)));</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取方法列表</span></span><br><span class="line">Method *methodList = class_copyMethodList([IDLTestObject <span class="keyword">class</span>], &amp;outCount);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">int</span> index = <span class="number">0</span>; index &lt; outCount; index++) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;method %u = %@&quot;</span>,index,<span class="built_in">NSStringFromSelector</span>(method_getName(methodList[index])));</span><br><span class="line">&#125;</span><br><span class="line">free(methodList);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取类方法</span></span><br><span class="line">Method classMethod = class_getClassMethod([IDLTestObject <span class="keyword">class</span>], <span class="keyword">@selector</span>(testClassMethod));</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;get classMethod %@&quot;</span>,<span class="built_in">NSStringFromSelector</span>(method_getName(classMethod)));</span><br><span class="line"></span><br><span class="line">IMP testMethod = class_getMethodImplementation([IDLTestObject <span class="keyword">class</span>], <span class="keyword">@selector</span>(testInstanceMethod));</span><br><span class="line">testMethod();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//给某个类添加方法</span></span><br><span class="line">class_addMethod([IDLTestObject <span class="keyword">class</span>],</span><br><span class="line">                <span class="keyword">@selector</span>(addedMethod),</span><br><span class="line">                (IMP)addedMethodIMP,</span><br><span class="line">                <span class="string">&quot;v@:&quot;</span>);</span><br><span class="line"></span><br><span class="line">[[IDLTestObject new] performSelector:<span class="keyword">@selector</span>(addedMethod)];</span><br><span class="line"></span><br><span class="line">objc_property_attribute_t type = &#123; <span class="string">&quot;T&quot;</span>, <span class="string">&quot;@\&quot;NSString\&quot;&quot;</span> &#125;;  <span class="comment">//T：类型</span></span><br><span class="line">objc_property_attribute_t ownership = &#123; <span class="string">&quot;C&quot;</span>, <span class="string">&quot;&quot;</span> &#125;;          <span class="comment">// C：copy</span></span><br><span class="line">objc_property_attribute_t <span class="keyword">nonatomic</span> = &#123; <span class="string">&quot;N&quot;</span>, <span class="string">&quot;&quot;</span> &#125;;          <span class="comment">// N：nonatomic</span></span><br><span class="line">objc_property_attribute_t ivar  = &#123; <span class="string">&quot;V&quot;</span>, <span class="string">&quot;_addedMethod&quot;</span> &#125;;  <span class="comment">//V： 实例变量变量名</span></span><br><span class="line">objc_property_attribute_t attributs[] = &#123; type, ownership,<span class="keyword">nonatomic</span>, ivar &#125;;</span><br><span class="line">class_addProperty([IDLTestObject <span class="keyword">class</span>], <span class="string">&quot;addedMethod&quot;</span>, attributs, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出添加的成员变量</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> count;</span><br><span class="line">objc_property_t *propertyList = class_copyPropertyList([IDLTestObject <span class="keyword">class</span>], &amp;count);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">int</span> i = <span class="number">0</span>; i&lt; count; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="type">char</span> *name = property_getName(propertyList[i]);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;属性%@ 属性信息%@&quot;</span>,[<span class="built_in">NSString</span> stringWithUTF8String:name],</span><br><span class="line">            [<span class="built_in">NSString</span> stringWithUTF8String:property_getAttributes(propertyList[i])]);</span><br><span class="line">&#125;</span><br><span class="line">free(propertyList);</span><br><span class="line"></span><br><span class="line"><span class="comment">//替换方法</span></span><br><span class="line">class_replaceMethod([IDLTestObject <span class="keyword">class</span>],</span><br><span class="line">                    <span class="keyword">@selector</span>(testInstanceMethod),</span><br><span class="line">                    (IMP)addedMethodIMP,</span><br><span class="line">                    <span class="string">&quot;v@:&quot;</span>);</span><br><span class="line">[[[IDLTestObject alloc] init] testInstanceMethod];</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建实例</span></span><br><span class="line">IDLTestObject *testClass = class_createInstance([IDLTestObject <span class="keyword">class</span>], <span class="number">0</span>);</span><br><span class="line">[testClass performSelector:<span class="keyword">@selector</span>(testInstanceMethod)];</span><br><span class="line"></span><br><span class="line">Class DynamicClass = objc_allocateClassPair([<span class="built_in">NSObject</span> <span class="keyword">class</span>], <span class="string">&quot;DynamicClass&quot;</span>, <span class="number">0</span>);</span><br><span class="line">class_addIvar(DynamicClass, <span class="string">&quot;_attribute0&quot;</span>, <span class="keyword">sizeof</span>(<span class="built_in">NSString</span> *), log(<span class="keyword">sizeof</span>(<span class="built_in">NSString</span> *)), <span class="string">&quot;i&quot;</span>);</span><br><span class="line">Ivar ivar = class_getInstanceVariable(DynamicClass, <span class="string">&quot;_attribute0&quot;</span>);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;DynamicClass var:%@&quot;</span>,[<span class="built_in">NSString</span> stringWithUTF8String:ivar_getName(ivar)]);</span><br><span class="line">objc_registerClassPair(DynamicClass);</span><br></pre></td></tr></table></figure>

<p>输出结果如下：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">294372</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] className : IDLTestObject</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">296220</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] superClass : NSObject</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">297028</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] instanceSize = <span class="number">32</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">299444</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] InstanceVariable :_name</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">306411</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] Instance Variable TypeEncoding:@<span class="string">&quot;NSString&quot;</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">306766</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] Instance Variable Offset:<span class="number">16</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">307020</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] var <span class="number">0</span> = privateInstanceVar</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">307322</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] var <span class="number">1</span> = _name</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">307559</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] var <span class="number">2</span> = _age</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">308250</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] Instance Property Name :age</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">308553</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] Instance Property Attribute:Tq,N,V_age</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">308878</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] get InstanceMethod testInstanceMethod</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">309351</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] method <span class="number">0</span> = testInstanceMethod</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">309624</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] method <span class="number">1</span> = .cxx_destruct</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">334783</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] method <span class="number">2</span> = name</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">335325</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] method <span class="number">3</span> = setName:</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">335856</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] method <span class="number">4</span> = age</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">336313</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] method <span class="number">5</span> = setAge:</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">336745</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] get classMethod testClassMethod</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">336909</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] run testInstanceMethod</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">340473</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] run addedMethodIMP</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">351977</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] 属性addedMethod 属性信息T@<span class="string">&quot;NSString&quot;</span>,C,N,V_addedMethod</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">352879</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] 属性name 属性信息T@<span class="string">&quot;NSString&quot;</span>,&amp;,N,V_name</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">353429</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] 属性age 属性信息Tq,N,V_age</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">353906</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] run addedMethodIMP</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">354370</span>+<span class="number">0800</span> objc-debug[<span class="number">43702</span>:<span class="number">387877</span>] run addedMethodIMP</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">08</span> <span class="number">19</span>:<span class="number">05</span>:<span class="number">51</span>.<span class="number">354378</span>+<span class="number">0800</span> objc-debug[<span class="number">71958</span>:<span class="number">585781</span>] DynamicClass var:_attribute0</span><br></pre></td></tr></table></figure>

<h6 id="Ivar实例变量相关："><a href="#Ivar实例变量相关：" class="headerlink" title="Ivar实例变量相关："></a><strong><strong>Ivar实例变量相关：</strong></strong></h6><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取变量名</span></span><br><span class="line">OBJC_EXPORT const <span class="built_in">char</span><span class="operator"> * </span>_Nullable</span><br><span class="line">ivar<span class="constructor">_getName(Ivar <span class="params">_Nonnull</span> <span class="params">v</span>)</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">//获取变量类型描述</span></span><br><span class="line">OBJC_EXPORT const <span class="built_in">char</span><span class="operator"> * </span>_Nullable</span><br><span class="line">ivar<span class="constructor">_getTypeEncoding(Ivar <span class="params">_Nonnull</span> <span class="params">v</span>)</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">//获取变量基地址偏移量</span></span><br><span class="line">OBJC_EXPORT ptrdiff_t</span><br><span class="line">ivar<span class="constructor">_getOffset(Ivar <span class="params">_Nonnull</span> <span class="params">v</span>)</span> </span><br></pre></td></tr></table></figure>

<p>上面的三个方法基本上对应于IVar的数据结构的各个字段，后面会单独介绍TypeEncoding和属性编码。</p>
<h6 id="Property属性相关："><a href="#Property属性相关：" class="headerlink" title="Property属性相关："></a><strong><strong>Property属性相关：</strong></strong></h6><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取属性名</span></span><br><span class="line"><span class="function">OBJC_EXPORT <span class="type">const</span> <span class="type">char</span> * _Nonnull</span></span><br><span class="line"><span class="function"><span class="title">property_getName</span><span class="params">(<span class="type">objc_property_t</span> _Nonnull property)</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//获取属性编码</span></span></span><br><span class="line"><span class="function">OBJC_EXPORT <span class="type">const</span> <span class="type">char</span> * _Nullable</span></span><br><span class="line"><span class="function"><span class="title">property_getAttributes</span><span class="params">(<span class="type">objc_property_t</span> _Nonnull property)</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//获取属性列表返回的objc_property_attribute_t的结构如下：</span></span></span><br><span class="line"><span class="function"><span class="comment">//typedef struct &#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">//        const char *name;</span></span></span><br><span class="line"><span class="function"><span class="comment">//        const char *value;</span></span></span><br><span class="line"><span class="function"><span class="comment">//&#125; objc_property_attribute_t;</span></span></span><br><span class="line"><span class="function">OBJC_EXPORT <span class="type">objc_property_attribute_t</span> * _Nullable</span></span><br><span class="line"><span class="function"><span class="title">property_copyAttributeList</span><span class="params">(<span class="type">objc_property_t</span> _Nonnull property,</span></span></span><br><span class="line"><span class="params"><span class="function">                           <span class="type">unsigned</span> <span class="type">int</span> * _Nullable outCount)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//获取属性的属性值</span></span></span><br><span class="line"><span class="function">OBJC_EXPORT <span class="type">char</span> * _Nullable</span></span><br><span class="line"><span class="function"><span class="title">property_copyAttributeValue</span><span class="params">(<span class="type">objc_property_t</span> _Nonnull property,</span></span></span><br><span class="line"><span class="params"><span class="function">                            <span class="type">const</span> <span class="type">char</span> * _Nonnull attributeName)</span></span></span><br></pre></td></tr></table></figure>

<h6 id="Method方法相关："><a href="#Method方法相关：" class="headerlink" title="Method方法相关："></a><strong><strong>Method方法相关：</strong></strong></h6><figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获得方法名</span></span><br><span class="line">OBJC_EXPORT SEL _Nonnull</span><br><span class="line">method_getName(<span class="keyword">Method</span> _<span class="title function_">Nonnull</span> <span class="title function_">m</span>)</span><br><span class="line"></span><br><span class="line">//获得方法的实现</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">IMP</span> _<span class="title function_">Nonnull</span></span><br><span class="line"><span class="title function_">method_getImplementation</span><span class="params">(<span class="keyword">Method</span> _Nonnull m)</span> </span><br><span class="line">    <span class="title function_">OBJC_AVAILABLE</span><span class="params">(10.5, 2.0, 9.0, 1.0, 2.0)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得参数和返回值的类型编码</span></span><br><span class="line">OBJC_EXPORT <span class="keyword">const</span> char * _Nullable</span><br><span class="line">method_getTypeEncoding(<span class="keyword">Method</span> _<span class="title function_">Nonnull</span> <span class="title function_">m</span>) </span><br><span class="line"></span><br><span class="line">//获得参数数量</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">unsigned</span> <span class="title function_">int</span></span><br><span class="line"><span class="title function_">method_getNumberOfArguments</span><span class="params">(<span class="keyword">Method</span> _Nonnull m)</span></span><br><span class="line"></span><br><span class="line">//获得返回类型</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">char</span> * _<span class="title function_">Nonnull</span></span><br><span class="line"><span class="title function_">method_copyReturnType</span><span class="params">(<span class="keyword">Method</span> _Nonnull m)</span> </span><br><span class="line"></span><br><span class="line">//获得参数类型</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">char</span> * _<span class="title function_">Nullable</span></span><br><span class="line"><span class="title function_">method_copyArgumentType</span><span class="params">(<span class="keyword">Method</span> _Nonnull m, unsigned int <span class="keyword">index</span>)</span> </span><br><span class="line"></span><br><span class="line">//获得返回类型，指定存储空间</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">void</span></span><br><span class="line"><span class="title function_">method_getReturnType</span><span class="params">(<span class="keyword">Method</span> _Nonnull m, char * _Nonnull dst, size_t dst_len)</span> </span><br><span class="line"></span><br><span class="line">//获得参数类型，指定存储空间</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">void</span></span><br><span class="line"><span class="title function_">method_getArgumentType</span><span class="params">(<span class="keyword">Method</span> _Nonnull m, unsigned int <span class="keyword">index</span>, </span></span><br><span class="line"><span class="params">                       char * _Nullable dst, size_t dst_len)</span> </span><br><span class="line"></span><br><span class="line">//获得方法描述</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">struct</span> <span class="title function_">objc_method_description</span> * _<span class="title function_">Nonnull</span></span><br><span class="line"><span class="title function_">method_getDescription</span><span class="params">(<span class="keyword">Method</span> _Nonnull m)</span> </span><br><span class="line"></span><br><span class="line">设置方法实现</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">IMP</span> _<span class="title function_">Nonnull</span></span><br><span class="line"><span class="title function_">method_setImplementation</span><span class="params">(<span class="keyword">Method</span> _Nonnull m, IMP _Nonnull imp)</span> </span><br><span class="line"></span><br><span class="line">//交换两个方法的实现</span><br><span class="line"><span class="title function_">OBJC_EXPORT</span> <span class="title function_">void</span></span><br><span class="line"><span class="title function_">method_exchangeImplementations</span><span class="params">(<span class="keyword">Method</span> _Nonnull m1, <span class="keyword">Method</span> _Nonnull m2)</span> </span><br></pre></td></tr></table></figure>
<p>之前博客已经介绍过，方法主要有方法名SEL,包含方法参数，返回值类型的编码，以及实现体IMP.这里最重要的是类型编码在后面统一介绍。这里还增加了可以分开获取方法参数和返回值类型编码的方法，以及方法参数数量。</p>
<h6 id="SEL相关："><a href="#SEL相关：" class="headerlink" title="SEL相关："></a><strong><strong>SEL相关：</strong></strong></h6><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">//返回SEL名字</span></span><br><span class="line">OBJC_EXPORT const <span class="built_in">char</span><span class="operator"> * </span>_Nonnull sel<span class="constructor">_getName(SEL <span class="params">_Nonnull</span> <span class="params">sel</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//在系统中注册一个方法，将方法名映射到一个选择器，并返回这个选择器</span></span><br><span class="line">OBJC_EXPORT SEL _Nonnull sel<span class="constructor">_registerName(<span class="params">const</span> <span class="params">char</span> <span class="operator">*</span> <span class="params">_Nonnull</span> <span class="params">str</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//对比方法选择器</span></span><br><span class="line">OBJC_EXPORT BOOL sel<span class="constructor">_isEqual(SEL <span class="params">_Nonnull</span> <span class="params">lhs</span>, SEL <span class="params">_Nonnull</span> <span class="params">rhs</span>)</span> </span><br></pre></td></tr></table></figure>

<h6 id="协议Protocal相关："><a href="#协议Protocal相关：" class="headerlink" title="协议Protocal相关："></a><strong><strong>协议Protocal相关：</strong></strong></h6><figure class="highlight sqf"><table><tr><td class="code"><pre><span class="line"><span class="comment">//返回一个指定的协议</span></span><br><span class="line">OBJC_EXPORT Protocol * <span class="variable">_Nullable</span> objc_getProtocol(const char * <span class="variable">_Nonnull</span> <span class="built_in">name</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回运行时所有的协议</span></span><br><span class="line">OBJC_EXPORT Protocol * <span class="variable">__unsafe_unretained</span> <span class="variable">_Nonnull</span> * <span class="variable">_Nullable</span></span><br><span class="line">objc_copyProtocolList(unsigned int * <span class="variable">_Nullable</span> outCount);</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回某个协议是否遵循另一个协议</span></span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line">protocol_conformsToProtocol(Protocol * <span class="variable">_Nullable</span> proto,</span><br><span class="line">                            Protocol * <span class="variable">_Nullable</span> other)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回协议是否相等</span></span><br><span class="line">OBJC_EXPORT BOOL</span><br><span class="line">protocol_isEqual(Protocol * <span class="variable">_Nullable</span> proto, Protocol * <span class="variable">_Nullable</span> other)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回协议名</span></span><br><span class="line">OBJC_EXPORT const char * <span class="variable">_Nonnull</span></span><br><span class="line">protocol_getName(Protocol * <span class="variable">_Nonnull</span> proto)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回协议的某个方法描述</span></span><br><span class="line">OBJC_EXPORT struct objc_method_description</span><br><span class="line">protocol_getMethodDescription(Protocol * <span class="variable">_Nonnull</span> proto, SEL <span class="variable">_Nonnull</span> aSel,</span><br><span class="line">                              BOOL isRequiredMethod, BOOL isInstanceMethod)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回协议的所有方法描述</span></span><br><span class="line">OBJC_EXPORT struct objc_method_description * <span class="variable">_Nullable</span></span><br><span class="line">protocol_copyMethodDescriptionList(Protocol * <span class="variable">_Nonnull</span> proto,</span><br><span class="line">                                   BOOL isRequiredMethod,</span><br><span class="line">                                   BOOL isInstanceMethod,</span><br><span class="line">                                   unsigned int * <span class="variable">_Nullable</span> outCount)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回协议指定的属性</span></span><br><span class="line">OBJC_EXPORT objc_property_t <span class="variable">_Nullable</span></span><br><span class="line">protocol_getProperty(Protocol * <span class="variable">_Nonnull</span> proto,</span><br><span class="line">                     const char * <span class="variable">_Nonnull</span> <span class="built_in">name</span>,</span><br><span class="line">                     BOOL isRequiredProperty, BOOL isInstanceProperty)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回协议的所有属性</span></span><br><span class="line">OBJC_EXPORT objc_property_t <span class="variable">_Nonnull</span> * <span class="variable">_Nullable</span></span><br><span class="line">protocol_copyPropertyList(Protocol * <span class="variable">_Nonnull</span> proto,</span><br><span class="line">                          unsigned int * <span class="variable">_Nullable</span> outCount)</span><br><span class="line"></span><br><span class="line">OBJC_EXPORT objc_property_t <span class="variable">_Nonnull</span> * <span class="variable">_Nullable</span></span><br><span class="line">protocol_copyPropertyList2(Protocol * <span class="variable">_Nonnull</span> proto,</span><br><span class="line">                           unsigned int * <span class="variable">_Nullable</span> outCount,</span><br><span class="line">                           BOOL isRequiredProperty, BOOL isInstanceProperty)</span><br><span class="line"><span class="comment">//返回某个协议遵循的协议列表</span></span><br><span class="line">OBJC_EXPORT Protocol * <span class="variable">__unsafe_unretained</span> <span class="variable">_Nonnull</span> * <span class="variable">_Nullable</span></span><br><span class="line">protocol_copyProtocolList(Protocol * <span class="variable">_Nonnull</span> proto,</span><br><span class="line">                          unsigned int * <span class="variable">_Nullable</span> outCount)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>动态创建协议</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建协议</span></span><br><span class="line">OBJC_EXPORT Protocol * _Nullable</span><br><span class="line">objc_allocateProtocol(<span class="keyword">const</span> <span class="type">char</span> * _Nonnull name) </span><br><span class="line"></span><br><span class="line"><span class="comment">//向Runtime注册协议</span></span><br><span class="line">OBJC_EXPORT <span class="type">void</span></span><br><span class="line">objc_registerProtocol(Protocol * _Nonnull proto) </span><br><span class="line">    OBJC_AVAILABLE(<span class="number">10.7</span>, <span class="number">4.3</span>, <span class="number">9.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//向协议添加方法描述</span></span><br><span class="line">OBJC_EXPORT <span class="type">void</span></span><br><span class="line">protocol_addMethodDescription(Protocol * _Nonnull proto, SEL _Nonnull name,</span><br><span class="line">                              <span class="keyword">const</span> <span class="type">char</span> * _Nullable types,</span><br><span class="line">                              <span class="type">BOOL</span> isRequiredMethod, <span class="type">BOOL</span> isInstanceMethod) </span><br><span class="line"></span><br><span class="line"><span class="comment">//添加协议</span></span><br><span class="line">OBJC_EXPORT <span class="type">void</span></span><br><span class="line">protocol_addProtocol(Protocol * _Nonnull proto, Protocol * _Nonnull addition) </span><br><span class="line">    OBJC_AVAILABLE(<span class="number">10.7</span>, <span class="number">4.3</span>, <span class="number">9.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>);</span><br><span class="line"></span><br><span class="line">给协议添加属性</span><br><span class="line">OBJC_EXPORT <span class="type">void</span></span><br><span class="line">protocol_addProperty(Protocol * _Nonnull proto, <span class="keyword">const</span> <span class="type">char</span> * _Nonnull name,</span><br><span class="line">                     <span class="keyword">const</span> objc_property_attribute_t * _Nullable attributes,</span><br><span class="line">                     <span class="type">unsigned</span> <span class="type">int</span> attributeCount,</span><br><span class="line">                     <span class="type">BOOL</span> isRequiredProperty, <span class="type">BOOL</span> isInstanceProperty)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h6 id="类型编码与属性编码"><a href="#类型编码与属性编码" class="headerlink" title="**** 类型编码与属性编码 ****"></a>**** 类型编码与属性编码 ****</h6><p>编译器将每个方法的返回值和参数类型编码为一个字符串，并将其与方法的selector关联在一起。同时每个属性的类型也进行了编码，下面是这两部分的官方文档，供大家查阅使用。</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html">Type Encodings</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtPropertyIntrospection.html">Property Type and Functions</a></p>
</li>
<li><p><strong><strong>类型编码</strong></strong>：</p>
</li>
</ul>
<p>我们给出一个例子,下面的例子会将方法的返回值以及参数编码打印出来：</p>
<p>这个方法如下所示：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">+ (IDLReturnType *)testTypeEncoding:(NSString *)strValue <span class="built_in">int</span>Value:(NSInteger)<span class="built_in">int</span>Value &#123;</span><br><span class="line">    <span class="keyword">return</span> [IDLReturnType new];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">Method testMethods = <span class="keyword">class</span><span class="constructor">_getClassMethod([IDLTestObject <span class="params">class</span>], @<span class="params">selector</span>(<span class="params">testTypeEncoding</span>:<span class="params">intValue</span>:)</span>);</span><br><span class="line"><span class="constructor">NSLog(@<span class="string">&quot;Type Encoding : %@&quot;</span>,[NSString <span class="params">stringWithUTF8String</span>:<span class="params">method_getTypeEncoding</span>(<span class="params">testMethods</span>)</span>]);</span><br><span class="line"><span class="built_in">char</span> *returnType = <span class="keyword">method</span><span class="constructor">_copyReturnType(<span class="params">testMethods</span>)</span>;</span><br><span class="line"><span class="constructor">NSLog(@<span class="string">&quot;Return Type: %@&quot;</span>,[NSString <span class="params">stringWithUTF8String</span>:<span class="params">returnType</span>])</span>;</span><br><span class="line">free(returnType);</span><br><span class="line"></span><br><span class="line">NSInteger numberOfArguments = <span class="keyword">method</span><span class="constructor">_getNumberOfArguments(<span class="params">testMethods</span>)</span>;</span><br><span class="line"><span class="built_in">char</span> *argument = NULL;</span><br><span class="line"><span class="keyword">for</span> (unsigned <span class="built_in">int</span> index = <span class="number">0</span>; index &lt; numberOfArguments; index++) &#123;</span><br><span class="line">    argument = <span class="keyword">method</span><span class="constructor">_copyArgumentType(<span class="params">testMethods</span>, <span class="params">index</span>)</span>;</span><br><span class="line">    <span class="constructor">NSLog(@<span class="string">&quot;Index %d Return Type: %@&quot;</span>, <span class="params">index</span>,[NSString <span class="params">stringWithUTF8String</span>:<span class="params">argument</span>])</span>;</span><br><span class="line">&#125;</span><br><span class="line">free(argument);</span><br></pre></td></tr></table></figure>

<p>输出内容为：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">10</span>:<span class="number">21</span>:<span class="number">22</span>.<span class="number">231254</span>+<span class="number">0800</span> objc-debug[<span class="number">84523</span>:<span class="number">1305673</span>] Type Encoding : @<span class="number">32</span>@<span class="number">0</span>:<span class="number">8</span>@<span class="number">16</span>q24</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">10</span>:<span class="number">21</span>:<span class="number">22</span>.<span class="number">231343</span>+<span class="number">0800</span> objc-debug[<span class="number">84523</span>:<span class="number">1305673</span>] Return Type: @</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">10</span>:<span class="number">21</span>:<span class="number">22</span>.<span class="number">231425</span>+<span class="number">0800</span> objc-debug[<span class="number">84523</span>:<span class="number">1305673</span>] Index <span class="number">0</span> Return Type: @</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">10</span>:<span class="number">21</span>:<span class="number">22</span>.<span class="number">231503</span>+<span class="number">0800</span> objc-debug[<span class="number">84523</span>:<span class="number">1305673</span>] Index <span class="number">1</span> Return Type: :</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">10</span>:<span class="number">21</span>:<span class="number">22</span>.<span class="number">231579</span>+<span class="number">0800</span> objc-debug[<span class="number">84523</span>:<span class="number">1305673</span>] Index <span class="number">2</span> Return Type: @</span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">10</span>:<span class="number">21</span>:<span class="number">22</span>.<span class="number">231653</span>+<span class="number">0800</span> objc-debug[<span class="number">84523</span>:<span class="number">1305673</span>] Index <span class="number">3</span> Return Type: q</span><br></pre></td></tr></table></figure>

<p>我们看****@32@0:8@16q24****这实际上就是方法的类型编码。我们先看下类型编码表：</p>
<p><img src="/2020/02/06/iOS-Runtime%E5%BA%94%E7%94%A8%E4%B9%8B%E5%B8%A6%E5%A4%A7%E5%AE%B6%E7%86%9F%E6%82%89Runtime-API/00001.png"><br>这里每个部分都包含两位，前面一个表示编码，后面表示这个数据对应的偏移量，返回的类型数据会将返回值放在最后面，所以****@32@0:8@16q24****对应部分的意义如下：</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@32</span> 返回值编码为@，也就是id类型，所处的偏移量为<span class="number">32</span>。也就是q24的后面</span><br><span class="line"><span class="variable">@0</span>  第一个参数的编码为@，也就是id类型，所处的偏移量为<span class="number">0</span>，由于第一个参数恒为方法的接收者，所以是id类型。</span><br><span class="line">:<span class="number">8</span>  第二个参数的编码为: 也就是SEL类型，所处的偏移量为<span class="number">8</span>，由于第二个参数恒为_cmd所以是SEL类型。</span><br><span class="line"><span class="variable">@16</span> 第三个参数的编码为@ 也就是id类型，所处的偏移量为<span class="number">16</span>，上面第三个参数为NSString*</span><br><span class="line">q24 第四个参数的编码为q 也就是long long类型，由于用的是<span class="number">64</span>位机器所以对得上。</span><br></pre></td></tr></table></figure>

<p>Runtime为了我们方便，为我们提供了@encode编译器指令来获取它，当给定一个类型时，@encode返回这个类型的字符串编码，如下所示：</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;char     : %s, %lu&quot;</span>, <span class="variable">@encode</span>(char), sizeof(char));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;short    : %s, %lu&quot;</span>, <span class="variable">@encode</span>(short), sizeof(short));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;int      : %s, %lu&quot;</span>, <span class="variable">@encode</span>(int), sizeof(int));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;long     : %s, %lu&quot;</span>, <span class="variable">@encode</span>(long), sizeof(long));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;long long: %s, %lu&quot;</span>, <span class="variable">@encode</span>(long long), sizeof(long long));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;float    : %s, %lu&quot;</span>, <span class="variable">@encode</span>(float), sizeof(float));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;double   : %s, %lu&quot;</span>, <span class="variable">@encode</span>(double), sizeof(double));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;NSInteger: %s, %lu&quot;</span>, <span class="variable">@encode</span>(NSInteger), sizeof(NSInteger));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;CGFloat  : %s, %lu&quot;</span>, <span class="variable">@encode</span>(CGFloat), sizeof(CGFloat));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;int32_t  : %s, %lu&quot;</span>, <span class="variable">@encode</span>(int32_t), sizeof(int32_t));</span><br><span class="line"><span class="selector-tag">NSLog</span>(@<span class="string">&quot;int64_t  : %s, %lu&quot;</span>, <span class="variable">@encode</span>(int64_t), sizeof(int64_t))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">116484</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] char     : c, <span class="number">1</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">116991</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] short    : s, <span class="number">2</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">117745</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] int      : i, <span class="number">4</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">118195</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] long     : q, <span class="number">8</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">118943</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] long long: q, <span class="number">8</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">121076</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] float    : f, <span class="number">4</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">123510</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] double   : d, <span class="number">8</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">124016</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] NSInteger: q, <span class="number">8</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">124132</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] CGFloat  : d, <span class="number">8</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">124211</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] int32_t  : i, <span class="number">4</span></span><br><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">04</span>:<span class="number">28</span>.<span class="number">124283</span>+<span class="number">0800</span> objc-debug[<span class="number">91476</span>:<span class="number">1363542</span>] int64_t  : q, <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p>一般我们会使用：</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">method</span><span class="constructor">_copyArgumentType(<span class="params">testMethods</span>, <span class="params">index</span>)</span>;</span><br></pre></td></tr></table></figure>
<p>这种方式，避免涉及到偏移量等数据，直接获取参数类型。</p>
<ul>
<li><strong><strong>属性编码</strong></strong>：</li>
</ul>
<p>前面提到一个例子：</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">objc_property_t property = <span class="keyword">class</span><span class="constructor">_getProperty([IDLTestObject <span class="params">class</span>], [@<span class="string">&quot;age&quot;</span> UTF8String])</span>;</span><br><span class="line"><span class="constructor">NSLog(@<span class="string">&quot;Instance Property Name :%@&quot;</span>,[NSString <span class="params">stringWithUTF8String</span>:<span class="params">property_getName</span>(<span class="params">property</span>)</span>]);</span><br><span class="line"><span class="constructor">NSLog(@<span class="string">&quot;Instance Property Attribute:%@&quot;</span>,[NSString <span class="params">stringWithUTF8String</span>:<span class="params">property_getAttributes</span>(<span class="params">property</span>)</span>]);</span><br></pre></td></tr></table></figure>

<p>age属性的声明如下所示：</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>, <span class="keyword">readonly</span>,<span class="keyword">getter</span>=ageValue,<span class="keyword">setter</span>=setAageValue:) <span class="built_in">NSString</span> *age;</span><br></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">2020</span>-<span class="number">02</span>-<span class="number">09</span> <span class="number">11</span>:<span class="number">23</span>:<span class="number">38</span>.<span class="number">356033</span>+<span class="number">0800</span> objc-debug[<span class="number">94653</span>:<span class="number">1391447</span>] Instance Property Attribute:T@<span class="string">&quot;NSString&quot;</span>,R,C,N,GageValue,SsetAageValue:,V_age</span><br></pre></td></tr></table></figure>

<p><img src="/2020/02/06/iOS-Runtime%E5%BA%94%E7%94%A8%E4%B9%8B%E5%B8%A6%E5%A4%A7%E5%AE%B6%E7%86%9F%E6%82%89Runtime-API/00002.png"></p>
<p>我们对照上表给大家分析：<br>属性编码是通过逗号进行分隔开的，<strong><strong>T@”NSString”,R,C,N,GageValue,SsetAageValue:,V_age</strong></strong> 表示的意义如下：</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="bullet">* </span>T@&quot;NSString&quot; 属性类型为NSString</span><br><span class="line"><span class="bullet">* </span>R 属性类型为ReadOnly类型</span><br><span class="line"><span class="bullet">* </span>C 属性存储属性为Copy</span><br><span class="line"><span class="bullet">* </span>N 属性为nonatomic</span><br><span class="line"><span class="bullet">* </span>GageValue 属性指定getter方法为ageValue</span><br><span class="line"><span class="bullet">* </span>SsetAageValue: 属性指定setter方法为setAageValue:</span><br><span class="line"><span class="bullet">* </span>V_age 属性对应的实例变量为_age</span><br></pre></td></tr></table></figure>

<p>对于类型编码和属性编码大致就这些。大家可以通过下面的表格熟悉下属性编码：</p>
<p><img src="/2020/02/06/iOS-Runtime%E5%BA%94%E7%94%A8%E4%B9%8B%E5%B8%A6%E5%A4%A7%E5%AE%B6%E7%86%9F%E6%82%89Runtime-API/00003.png"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Objective-C-%E7%9B%B8%E5%85%B3/">Objective C 相关</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Objective-C-相关/">Objective C 相关</a>
  </div>

</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2020/02/06/iOS-Runtime应用之带大家熟悉Runtime-API/#comments" class="ds-thread-count comments-count-link" data-thread-key="2020/02/06/iOS-Runtime应用之带大家熟悉Runtime-API/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/02/05/iOS-Runtime应用之多继承/" title="iOS Runtime应用之多继承" itemprop="url">iOS Runtime应用之多继承</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2020-02-04T16:33:56.000Z" itemprop="datePublished"> Published 2020-02-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>下面是模拟IDLPainterDeveloper继承IDLDeveloper以及IDLPainter的例子，直接上代码吧：</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLDeveloper</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)coding;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_END</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&quot;IDLDeveloper.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLDeveloper</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)coding &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;I Can coding!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLPainter</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)drawing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_END</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&quot;IDLPainter.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLPainter</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)drawing &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;I Can Drawing!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="built_in">NS_ASSUME_NONNULL_BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLPainterDeveloper</span> : <span class="title">NSProxy</span></span></span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">instancetype</span>)createPerson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_END</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&quot;IDLPainterDeveloper.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//super</span></span><br><span class="line"><span class="meta">#import <span class="string">&quot;IDLPainter.h&quot;</span></span></span><br><span class="line"><span class="meta">#import <span class="string">&quot;IDLDeveloper.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLPainterDeveloper</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>, <span class="keyword">readwrite</span>) <span class="built_in">NSMutableDictionary</span> *methodDictionary;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLPainterDeveloper</span></span></span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">instancetype</span>)createPerson &#123;</span><br><span class="line">    <span class="keyword">return</span> [[IDLPainterDeveloper alloc] init];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)init &#123;</span><br><span class="line">    </span><br><span class="line">    IDLPainter   *painter   = [[IDLPainter alloc] init];</span><br><span class="line">    IDLDeveloper *developer = [[IDLDeveloper alloc] init];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> inheriteMethodsFromSuperTarget:painter];</span><br><span class="line">    [<span class="keyword">self</span> inheriteMethodsFromSuperTarget:developer];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)inheriteMethodsFromSuperTarget:(<span class="type">id</span>)target&#123;</span><br><span class="line">    <span class="keyword">if</span>(!target) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> numberOfMethods = <span class="number">0</span>;</span><br><span class="line">    Method *methodList = class_copyMethodList([target <span class="keyword">class</span>], &amp;numberOfMethods);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numberOfMethods; i++) &#123;</span><br><span class="line">        SEL sel = method_getName(methodList[i]);</span><br><span class="line">        <span class="keyword">const</span> <span class="type">char</span> *methodName = sel_getName(sel);</span><br><span class="line">        [<span class="keyword">self</span>.methodDictionary setObject:target forKey:[<span class="built_in">NSString</span> stringWithUTF8String:methodName]];</span><br><span class="line">    &#125;</span><br><span class="line">    free(methodList);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)forwardInvocation:(<span class="built_in">NSInvocation</span> *)invocation&#123;</span><br><span class="line">    SEL sel = invocation.selector;</span><br><span class="line">    <span class="built_in">NSString</span> *methodName = <span class="built_in">NSStringFromSelector</span>(sel);</span><br><span class="line">    </span><br><span class="line">    <span class="type">id</span> target = <span class="keyword">self</span>.methodDictionary[methodName];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (target &amp;&amp; [target respondsToSelector:sel]) &#123;</span><br><span class="line">        [invocation invokeWithTarget:target];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        [<span class="variable language_">super</span> forwardInvocation:invocation];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSMethodSignature</span> *)methodSignatureForSelector:(SEL)sel&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *methodName = <span class="built_in">NSStringFromSelector</span>(sel);</span><br><span class="line">    <span class="type">id</span> target = <span class="keyword">self</span>.methodDictionary[methodName];</span><br><span class="line">    <span class="keyword">if</span> (target &amp;&amp; [target respondsToSelector:sel]) &#123;</span><br><span class="line">        <span class="keyword">return</span> [target methodSignatureForSelector:sel];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="variable language_">super</span> methodSignatureForSelector:sel];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSMutableDictionary</span> *)methodDictionary &#123;</span><br><span class="line">    <span class="keyword">if</span>(!_methodDictionary) &#123;</span><br><span class="line">        _methodDictionary = [[<span class="built_in">NSMutableDictionary</span> alloc] init];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> _methodDictionary;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Objective-C-%E7%9B%B8%E5%85%B3/">Objective C 相关</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Objective-C-相关/">Objective C 相关</a>
  </div>

</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2020/02/05/iOS-Runtime应用之多继承/#comments" class="ds-thread-count comments-count-link" data-thread-key="2020/02/05/iOS-Runtime应用之多继承/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/02/02/iOS-Runtime应用总结/" title="iOS Runtime应用总结" itemprop="url">iOS Runtime应用总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Edgar" target="_blank" itemprop="author">Edgar</a>
		
  <p class="article-time">
    <time datetime="2020-02-01T23:52:46.000Z" itemprop="datePublished"> Published 2020-02-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Runtime 用处蛮多的但是归结起来有如下几个：</p>
<h5 id="1-使用Runtime获得对象的属性，方法，协议等信息："><a href="#1-使用Runtime获得对象的属性，方法，协议等信息：" class="headerlink" title="1. 使用Runtime获得对象的属性，方法，协议等信息："></a><strong><strong>1. 使用Runtime获得对象的属性，方法，协议等信息：</strong></strong></h5><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="bullet">* </span>实现NSCoding的自动归档和解档</span><br><span class="line"><span class="bullet">* </span>实现字典的模型和自动转换</span><br></pre></td></tr></table></figure>
<p>这个大家可以阅读YYModel,MJExtension这些开源库，从中学习这部分的用法。</p>
<p>下面给出简化版的代码来方便大家理解Runtime在这方面的应用：</p>
<ul>
<li><strong><strong>实现NSCoding的自动归档和解档</strong></strong></li>
</ul>
<p>这个比较简单，就是通过class_copyIvarList获取到类到各个实例变量，然后通过KVC方式获取或者设置当前的属性，这里需要注意的是YYModel中针对某些不支持KVC的类型通过向属性的setter&#x2F;getter发送消息的方式来替换KVC.目前几乎所有的Objective-C对象都能使用KVC，但是一些纯Swift类和结构体是不支持KVC的。或许YYModel出于这方面考虑使用了通过发送消息的方式来取值和设值。</p>
<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ifndef CommonHeader_h</span></span><br><span class="line"><span class="comment">#define CommonHeader_h</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define INIT_WITH_CODER                                                 \</span></span><br><span class="line">- (instancetype)initWithCoder:(NSCoder *)coder &#123;                        <span class="string">\</span></span><br><span class="line">    <span class="keyword">if</span>(self = [super init]) &#123;                                           <span class="string">\</span></span><br><span class="line">        unsigned int outCount = <span class="number">0</span>;                                      <span class="string">\</span></span><br><span class="line">        Ivar *varList = class_copyIvarList([self <span class="keyword">class</span>], &amp;outCount);    <span class="string">\</span></span><br><span class="line">        <span class="keyword">for</span> (unsigned int index = <span class="number">0</span>; index &lt; outCount; index++) &#123;       <span class="string">\</span></span><br><span class="line">            <span class="keyword">const</span> char *<span class="keyword">var</span> = ivar_getName(varList[index]);             <span class="string">\</span></span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">var</span> || !strlen(<span class="keyword">var</span>)) <span class="keyword">continue</span>;                          <span class="string">\</span></span><br><span class="line">            NSString *varName = [NSString stringWithUTF8String:<span class="keyword">var</span>];    <span class="string">\</span></span><br><span class="line">            id value = [coder decodeObjectForKey:varName];              <span class="string">\</span></span><br><span class="line">            <span class="keyword">if</span>(value) &#123;                                                 <span class="string">\</span></span><br><span class="line">                [self setValue:value forKey:varName];                   <span class="string">\</span></span><br><span class="line">            &#125;                                                           <span class="string">\</span></span><br><span class="line">        &#125;                                                               <span class="string">\</span></span><br><span class="line">        free(varList);                                                  <span class="string">\</span></span><br><span class="line">    &#125;                                                                   <span class="string">\</span></span><br><span class="line">    <span class="keyword">return</span> self;                                                        <span class="string">\</span></span><br><span class="line">&#125;                                                                       <span class="string">\</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define ENCODE_WITH_CODER                                               \</span></span><br><span class="line">- (<span class="literal">void</span>)encodeWithCoder:(NSCoder *)coder &#123;                              <span class="string">\</span></span><br><span class="line">    unsigned int outCount = <span class="number">0</span>;                                          <span class="string">\</span></span><br><span class="line">    Ivar *varList = class_copyIvarList([self <span class="keyword">class</span>], &amp;outCount);        <span class="string">\</span></span><br><span class="line">    <span class="keyword">for</span> (unsigned int index = <span class="number">0</span>; index &lt; outCount; index++) &#123;           <span class="string">\</span></span><br><span class="line">        <span class="keyword">const</span> char *<span class="keyword">var</span> = ivar_getName(varList[index]);                 <span class="string">\</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">var</span> || !strlen(<span class="keyword">var</span>)) <span class="keyword">continue</span>;                              <span class="string">\</span></span><br><span class="line">        NSString *varName = [NSString stringWithUTF8String:<span class="keyword">var</span>];        <span class="string">\</span></span><br><span class="line">        id value = [self valueForKey:varName];                          <span class="string">\</span></span><br><span class="line">        [coder encodeObject:value forKey:varName];                      <span class="string">\</span></span><br><span class="line">    &#125;                                                                   <span class="string">\</span></span><br><span class="line">    free(varList);                                                      <span class="string">\</span></span><br><span class="line">&#125;                                                                       <span class="string">\</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#endif /* CommonHeader_h */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLTopic</span> : <span class="title">NSObject</span>&lt;<span class="title">NSCoding</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *topicName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> topicRankStar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLUser</span> : <span class="title">NSObject</span>&lt;<span class="title">NSCoding</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *userName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> userAge;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *localAddress;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *country;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSArray</span>&lt;IDLTopic *&gt; *topics;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_END</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&quot;IDLUser.h&quot;</span></span></span><br><span class="line"><span class="meta">#import <span class="string">&lt;objc/runtime.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="string">&quot;CommonHeader.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLTopic</span></span></span><br><span class="line"></span><br><span class="line">INIT_WITH_CODER</span><br><span class="line"></span><br><span class="line">ENCODE_WITH_CODER</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLUser</span></span></span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">NSDictionary</span> *)arrayElementModelTypeMap &#123;</span><br><span class="line">    <span class="keyword">return</span> @&#123;<span class="string">@&quot;topics&quot;</span>:[IDLTopic <span class="keyword">class</span>]&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">INIT_WITH_CODER</span><br><span class="line"></span><br><span class="line">ENCODE_WITH_CODER</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong><strong>字典转模型：</strong></strong><br>这部分的思路就是通过class_copyIvarList获取Model的各个属性，然后去掉属性名字下的下划线，作为查询字典的key。取出值通过KVC设置到model，<br>这里有两个比较关键的问题，当model属性为字典或者自定义类型的时候需要怎么处理，当model属性为数组的时候怎么处理。大家看下面代码:</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="built_in">NS_ASSUME_NONNULL_BEGIN</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLTopic</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *topicName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> topicRankStar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">IDLUser</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *userName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> userAge;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *localAddress;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSString</span> *country;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSArray</span>&lt;IDLTopic *&gt; *topics;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NS_ASSUME_NONNULL_END</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="string">&quot;IDLUser.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLTopic</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLUser</span></span></span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">NSDictionary</span> *)arrayElementModelTypeMap &#123;</span><br><span class="line">    <span class="keyword">return</span> @&#123;<span class="string">@&quot;topics&quot;</span>:[IDLTopic <span class="keyword">class</span>]&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line">+ (<span class="keyword">instancetype</span>)idl_modelWithDic:(<span class="built_in">NSDictionary</span> *)dictionary &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!dictionary || ![dictionary count]) <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">id</span> objc = [[<span class="keyword">self</span> alloc] init];</span><br><span class="line"></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> outCount = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//没有参数的情况</span></span><br><span class="line">    Ivar *varList = class_copyIvarList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;outCount);</span><br><span class="line">    <span class="keyword">if</span>(!outCount) &#123;</span><br><span class="line">        free(varList);</span><br><span class="line">        <span class="keyword">return</span> objc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">int</span> index = <span class="number">0</span>; index &lt; outCount; index++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取到属性名称</span></span><br><span class="line">        <span class="built_in">NSString</span> *varName = [<span class="built_in">NSString</span> stringWithUTF8String:ivar_getName(varList[index])];</span><br><span class="line">        <span class="keyword">if</span>(!varName || ![varName length]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">//去掉下划线_</span></span><br><span class="line">        varName = [varName substringFromIndex:<span class="number">1</span>];</span><br><span class="line">        <span class="comment">//去掉@ 和 “ 之后的实例变量类型 获取到的时候类型为@&quot;NSString&quot;这种</span></span><br><span class="line">        <span class="built_in">NSString</span> *varType = [<span class="built_in">NSString</span> stringWithUTF8String:ivar_getTypeEncoding(varList[index])];</span><br><span class="line">        varType = [varType stringByReplacingOccurrencesOfString:<span class="string">@&quot;\&quot;&quot;</span> withString:<span class="string">@&quot;&quot;</span>];</span><br><span class="line">        varType = [varType stringByReplacingOccurrencesOfString:<span class="string">@&quot;@&quot;</span> withString:<span class="string">@&quot;&quot;</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//取得变量值</span></span><br><span class="line">        <span class="type">id</span> varValue = dictionary[varName];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//自定义类型处理</span></span><br><span class="line">        <span class="keyword">if</span>([varValue isKindOfClass:[<span class="built_in">NSDictionary</span> <span class="keyword">class</span>]] || ![varType hasPrefix:<span class="string">@&quot;NS&quot;</span>]) &#123;</span><br><span class="line">            <span class="comment">//拿到自定义类型 递归生成 自定义的类型属性</span></span><br><span class="line">            Class modelClass = <span class="built_in">NSClassFromString</span>(varType);</span><br><span class="line">            <span class="keyword">if</span>(modelClass) &#123;</span><br><span class="line">                varValue = [modelClass idl_modelWithDic:varValue];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//实例变量为数组类型</span></span><br><span class="line">        <span class="keyword">if</span>([varValue isKindOfClass:[<span class="built_in">NSArray</span> <span class="keyword">class</span>]] || [varValue isKindOfClass:[<span class="built_in">NSMutableArray</span> <span class="keyword">class</span>]]) &#123;</span><br><span class="line">            <span class="comment">//获取映射的模型类型</span></span><br><span class="line">            <span class="keyword">if</span>([<span class="keyword">self</span> respondsToSelector:<span class="keyword">@selector</span>(arrayElementModelTypeMap)]) &#123;</span><br><span class="line">                <span class="comment">//拿到元素类型</span></span><br><span class="line">                <span class="built_in">NSDictionary</span> *arrayElementModelTypeMap = [<span class="keyword">self</span> performSelector:<span class="keyword">@selector</span>(arrayElementModelTypeMap)];</span><br><span class="line">                Class elementModelType = arrayElementModelTypeMap[varName];</span><br><span class="line"></span><br><span class="line">                <span class="built_in">NSMutableArray</span> *array = [<span class="built_in">NSMutableArray</span> new];</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">NSDictionary</span> *dict <span class="keyword">in</span> varValue<span class="comment">/*这个为字典数组*/</span>) &#123;</span><br><span class="line">                    <span class="type">id</span> elementValue = [elementModelType idl_modelWithDic:dict];</span><br><span class="line">                    [array addObject:elementValue];</span><br><span class="line">                &#125;</span><br><span class="line">                varValue = array;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//赋值</span></span><br><span class="line">        <span class="keyword">if</span>(varValue) &#123;</span><br><span class="line">            [objc setValue:varValue forKey:varName];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    free(varList);</span><br><span class="line">    <span class="keyword">return</span> objc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-通过Runtime动态创建一个类，给类增加方法，协议，属性等信息，调用私有方法："><a href="#2-通过Runtime动态创建一个类，给类增加方法，协议，属性等信息，调用私有方法：" class="headerlink" title="2. 通过Runtime动态创建一个类，给类增加方法，协议，属性等信息，调用私有方法："></a><strong><strong>2. 通过Runtime动态创建一个类，给类增加方法，协议，属性等信息，调用私有方法：</strong></strong></h5><ul>
<li><strong><strong>在方法决议阶段给类添加方法</strong></strong></li>
</ul>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">void</span> <span class="selector-tag">speak</span>() &#123;</span><br><span class="line">    <span class="selector-tag">NSLog</span>(@<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="selector-tag">implementation</span> <span class="selector-tag">IDLUser</span></span><br><span class="line"></span><br><span class="line">+ (BOOL)<span class="selector-tag">resolveInstanceMethod</span>:(SEL)<span class="selector-tag">sel</span> &#123;</span><br><span class="line">    <span class="selector-tag">if</span>([NSStringFromSelector(sel) <span class="attribute">isEqualToString</span>:@<span class="string">&quot;speak&quot;</span>]) &#123;</span><br><span class="line">        <span class="selector-tag">class_addMethod</span>([self class], <span class="variable">@selector</span>(speak), (IMP)speak, <span class="string">&quot;v@:&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">return</span> <span class="selector-attr">[super resolveInstanceMethod:sel]</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="selector-tag">end</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[user performSelector:@selector(speak)]</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong><strong>调用私有方法</strong></strong></li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="built_in">UIView</span> *maskView = [[<span class="built_in">UIView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>)];</span><br><span class="line">maskView.backgroundColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">SEL selector = <span class="built_in">NSSelectorFromString</span>(<span class="string">@&quot;setMaskView:&quot;</span>);</span><br><span class="line">[<span class="keyword">self</span>.view performSelector:selector withObject:maskView];</span><br></pre></td></tr></table></figure>

<h5 id="3-使用Method-Swizzling交换方法实现"><a href="#3-使用Method-Swizzling交换方法实现" class="headerlink" title="3. 使用Method Swizzling交换方法实现"></a><strong><strong>3. 使用Method Swizzling交换方法实现</strong></strong></h5><p>Method Swizzling的主要用于改变已经存在的selector 的实现，我们知道每个方法都和一个selector以及IMP相对应。但是iOS的Runtime 提供了一种改变这种对应关系的方法，它就是Method Swizzling，直接上代码,这个例子来自 nshipster <a target="_blank" rel="noopener" href="https://nshipster.com/method-swizzling/">Method Swizzling</a>.</p>
<p>Method Swizzling 大体都一个模子：</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">IDLViewController</span> (<span class="title">IDLMethodSwizzling</span>)</span></span><br><span class="line"></span><br><span class="line">+ (<span class="type">void</span>)load &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</span><br><span class="line"></span><br><span class="line">        SEL originalSEL = <span class="keyword">@selector</span>(viewWillAppear:);</span><br><span class="line">        SEL swizzlingSEL = <span class="keyword">@selector</span>(idl_viewWillAppear:);</span><br><span class="line"></span><br><span class="line">        Class <span class="keyword">class</span> = [<span class="keyword">self</span> <span class="keyword">class</span>];</span><br><span class="line">        Method originalMethod = class_getInstanceMethod(<span class="keyword">class</span>, originalSEL);</span><br><span class="line">        Method swizzlingMethod = class_getInstanceMethod(<span class="keyword">class</span>, swizzlingSEL);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果要交换类方法可以使用下面代码替换上面的</span></span><br><span class="line">        <span class="comment">// Class class = object_getClass((id)self);</span></span><br><span class="line">        <span class="comment">// Method originalMethod = class_getClassMethod(class, originalSelector);</span></span><br><span class="line">        <span class="comment">// Method swizzledMethod = class_getClassMethod(class, swizzledSelector);</span></span><br><span class="line"></span><br><span class="line">        <span class="type">BOOL</span> didAddedSuccess = class_addMethod(<span class="keyword">class</span>, originalSEL,</span><br><span class="line">                                                method_getImplementation(swizzlingMethod),</span><br><span class="line">                                                method_getTypeEncoding(swizzlingMethod));</span><br><span class="line">        <span class="keyword">if</span>(didAddedSuccess) &#123;</span><br><span class="line">            class_replaceMethod(<span class="keyword">class</span>, swizzlingSEL,</span><br><span class="line">                                method_getImplementation(originalMethod),</span><br><span class="line">                                method_getTypeEncoding(originalMethod));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            method_exchangeImplementations(originalMethod, swizzlingMethod);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)idl_viewWillAppear:(<span class="type">BOOL</span>)animated &#123;</span><br><span class="line">    [<span class="keyword">self</span> idl_viewWillAppear:animated];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;========&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>之所以放在load方法，主要有两点原因：</p>
<ol>
<li>load方法的时机在镜像加载的时候，这时候可以保证在任何逻辑开始之前就交换好了。</li>
<li>load方法可以避免分类中的Method Swizzling 覆盖主类的Method Swizzling。</li>
</ol>
<p>这里在最开始的时候会先试探得添加<strong><strong>originalSEL</strong></strong>对应的方法，如果我们类中还没有实现这个方法那么就会通过class_addMethod进行添加，这时候didAddedSuccess返回YES, 由于已经添加了originalSEL 指向swizzlingMethod的IMP,接下来就是通过class_replaceMethod，将swizzlingSEL指向originalMethod的IMP，从而完成方法的交换。<br>如果类中实现了originalSEL，那么didAddedSuccess返回NO。由于swizzlingSEL和swizzlingMethod的IMP也已经存在了，所以只要交换下这两个SEL的实现就可以了。</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line">- (<span class="type">void</span>)idl_viewWillAppear:(<span class="type">BOOL</span>)animated &#123;</span><br><span class="line">    [<span class="keyword">self</span> idl_viewWillAppear:animated];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;========&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>看到上面代码，大家估计会觉得不对吧，实际上是这样的，经过Method Swizzling，一旦系统向UIViewController 发送 viewWillAppear:消息，就会执行****- (void)idl_viewWillAppear:(BOOL)animated****的IMP。也就是：</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">self</span> idl_viewWillAppear:animated];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;========&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行到****[self idl_viewWillAppear:animated]**** 就会执行原来的viewWillAppear: IMP实现。所以这个是没有问题的。</p>
<p>上面只是一个简单的例子，如果大家对Method Swizzling感兴趣，可以在GitHub上搜索 <a target="_blank" rel="noopener" href="https://github.com/search?q=method+swizzling&type=Repositories">Method Swizzling</a>。 其中<a target="_blank" rel="noopener" href="https://github.com/rentzsch/jrswizzle">jrswizzle</a>,<a target="_blank" rel="noopener" href="https://github.com/rabovik/RSSwizzle">RSSwizzle</a>大家可以了解下。实际项目中没有用过。有机会看下源码的实现再给大家分析下整个实现。无非就是兼容性好一点，但是实际项目中上面应该够用了。</p>
<h5 id="4-使用消息转发机制实现多继承，热修复，消息分发器，路由："><a href="#4-使用消息转发机制实现多继承，热修复，消息分发器，路由：" class="headerlink" title="4. 使用消息转发机制实现多继承，热修复，消息分发器，路由："></a><strong><strong>4. 使用消息转发机制实现多继承，热修复，消息分发器，路由：</strong></strong></h5><p>这部分大家可以看JSPatch,ASpect 这两个开源库。多继承见下一篇博客</p>
<h5 id="5-使用关联对象给Catogry添加属性"><a href="#5-使用关联对象给Catogry添加属性" class="headerlink" title="5. 使用关联对象给Catogry添加属性"></a><strong><strong>5. 使用关联对象给Catogry添加属性</strong></strong></h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">-</span> (NSString *)<span class="selector-tag">catogiesName</span> &#123;</span><br><span class="line">    <span class="selector-tag">return</span> <span class="selector-tag">objc_getAssociatedObject</span>(self, _cmd);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">setCatogiesName</span>:(NSString *)<span class="selector-tag">catogiesName</span> &#123;</span><br><span class="line">    <span class="selector-tag">objc_setAssociatedObject</span>(self, <span class="variable">@selector</span>(catogiesName), catogiesName, OBJC_ASSOCIATION_RETAIN_NONATOMIC);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>关于Runtime的API最主要的都集中在****&lt;objc&#x2F;runtime.h&gt;<strong><strong>,</strong></strong>&lt;objc&#x2F;message.h&gt;****这两个文件中大家可以在使用的时候进行查看。</p>
<p>如果大家想要更进一步学习Runtime 可以在Github搜索 <a target="_blank" rel="noopener" href="https://github.com/search?l=Objective-C&q=runtime&type=Repositories">Runtime</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Objective-C-%E7%9B%B8%E5%85%B3/">Objective C 相关</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Objective-C-相关/">Objective C 相关</a>
  </div>

</div>



<div class="comments-count">
	
	  	<span></span>
		<a href="/2020/02/02/iOS-Runtime应用总结/#comments" class="ds-thread-count comments-count-link" data-thread-key="2020/02/02/iOS-Runtime应用总结/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/2/">Next&lt;span&gt;&lt;&#x2F;span&gt;</a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">
<div id="authorInfo">
	
		<div class="author-img"></div>		
	
	<div class="social-info" class="clearfix">
		
		
		<a href="https://github.com/tbfungeek" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
		
		<a href="mailto:tbfungeek@163.com" target="_blank" class="icon-email" title="Email Me"></a>
		

	</div>
</div>

  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android-小经验/" title="Android 小经验">Android 小经验<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android-源码分析/" title="Android 源码分析">Android 源码分析<sup>21</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android其他/" title="Android其他">Android其他<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android初步/" title="Android初步">Android初步<sup>21</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android进阶/" title="Android进阶">Android进阶<sup>100</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hexo-使用/" title="Hexo 使用">Hexo 使用<sup>10</sup></a></li>
		  
		
		  
			<li><a href="/categories/JavaScript理论/" title="JavaScript理论">JavaScript理论<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Objective-C-相关/" title="Objective C 相关">Objective C 相关<sup>24</sup></a></li>
		  
		
		  
			<li><a href="/categories/OpenCV/" title="OpenCV">OpenCV<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/ROS/" title="ROS">ROS<sup>9</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS-工具使用/" title="iOS 工具使用">iOS 工具使用<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS-开源库分析/" title="iOS 开源库分析">iOS 开源库分析<sup>36</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS-理论基础/" title="iOS 理论基础">iOS 理论基础<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS-进阶/" title="iOS 进阶">iOS 进阶<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/个人收藏/" title="个人收藏">个人收藏<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/代码规范/" title="代码规范">代码规范<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/其他/" title="其他">其他<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/博客分类目录/" title="博客分类目录">博客分类目录<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/叨叨系列/" title="叨叨系列">叨叨系列<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/开源代码分析/" title="开源代码分析">开源代码分析<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/开源库分析/" title="开源库分析">开源库分析<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/树莓派/" title="树莓派">树莓派<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/版本控制/" title="版本控制">版本控制<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/直播/" title="直播">直播<sup>6</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/iOS-开源库分析/" title="iOS 开源库分析">iOS 开源库分析<sup>36</sup></a></li>
			
		
			
				<li><a href="/tags/Android-设计模式/" title="Android 设计模式">Android 设计模式<sup>29</sup></a></li>
			
		
			
				<li><a href="/tags/Objective-C-相关/" title="Objective C 相关">Objective C 相关<sup>24</sup></a></li>
			
		
			
				<li><a href="/tags/Android基础/" title="Android基础">Android基础<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/AOSP-源码/" title="AOSP 源码">AOSP 源码<sup>17</sup></a></li>
			
		
			
				<li><a href="/tags/Android-常用第三方库/" title="Android 常用第三方库">Android 常用第三方库<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-理论基础/" title="iOS 理论基础">iOS 理论基础<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo-使用/" title="Hexo 使用">Hexo 使用<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/ROS/" title="ROS">ROS<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Android-动画进阶/" title="Android 动画进阶">Android 动画进阶<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Android-JNI/" title="Android JNI">Android JNI<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Android-绘图进阶/" title="Android 绘图进阶">Android 绘图进阶<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Android性能优化/" title="Android性能优化">Android性能优化<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Android-自动化测试/" title="Android 自动化测试">Android 自动化测试<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/OpenCV/" title="OpenCV">OpenCV<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/直播/" title="直播">直播<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Android-开源源码/" title="Android 开源源码">Android 开源源码<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Android-自定义View进阶/" title="Android 自定义View进阶">Android 自定义View进阶<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/树莓派/" title="树莓派">树莓派<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-进阶/" title="iOS 进阶">iOS 进阶<sup>4</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://hexo.io" target="_blank" title="Hexo">Hexo</a>
            
          </li>
        
          <li>
            
            	<a href="https://pages.github.com/" target="_blank" title="GitHub">GitHub</a>
            
          </li>
        
          <li>
            
            	<a href="http://pf18.github.io/" target="_blank" title="PF18">PF18</a>
            
          </li>
        
          <li>
            
            	<a href="http://toutiao.io/" target="_blank" title="开发者头条">开发者头条</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.jcodecraeer.com/" target="_blank" title="泡在网上的日子">泡在网上的日子</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="atom.xml" target="_blank" title="rss">RSS</a>
</div>

  
  <div class="tagcloudlist">
    <p class="asidetitle">Tag Cloud</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/AOSP-%E6%BA%90%E7%A0%81/" style="font-size: 17.14px;">AOSP 源码</a> <a href="/tags/Android-APK-%E7%AD%BE%E5%90%8D/" style="font-size: 10px;">Android APK 签名</a> <a href="/tags/Android-JNI/" style="font-size: 12.86px;">Android JNI</a> <a href="/tags/Android-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E8%BF%9B%E9%98%B6/" style="font-size: 10.71px;">Android 事件处理进阶</a> <a href="/tags/Android-%E5%8A%A8%E7%94%BB%E8%BF%9B%E9%98%B6/" style="font-size: 13.57px;">Android 动画进阶</a> <a href="/tags/Android-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%BC%80%E5%8F%91/" style="font-size: 10px;">Android 多线程开发</a> <a href="/tags/Android-%E5%B0%8F%E7%BB%8F%E9%AA%8C/" style="font-size: 10px;">Android 小经验</a> <a href="/tags/Android-%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/" style="font-size: 16.43px;">Android 常用第三方库</a> <a href="/tags/Android-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/" style="font-size: 10px;">Android 开发流程</a> <a href="/tags/Android-%E5%BC%80%E6%BA%90%E6%BA%90%E7%A0%81/" style="font-size: 12.14px;">Android 开源源码</a> <a href="/tags/Android-%E7%BB%98%E5%9B%BE%E8%BF%9B%E9%98%B6/" style="font-size: 12.86px;">Android 绘图进阶</a> <a href="/tags/Android-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" style="font-size: 12.86px;">Android 自动化测试</a> <a href="/tags/Android-%E8%87%AA%E5%AE%9A%E4%B9%89View%E8%BF%9B%E9%98%B6/" style="font-size: 12.14px;">Android 自定义View进阶</a> <a href="/tags/Android-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 19.29px;">Android 设计模式</a> <a href="/tags/Android%E5%85%B6%E4%BB%96/" style="font-size: 10px;">Android其他</a> <a href="/tags/Android%E5%9F%BA%E7%A1%80/" style="font-size: 17.86px;">Android基础</a> <a href="/tags/Android%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/" style="font-size: 10px;">Android开发流程</a> <a href="/tags/Android%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 12.86px;">Android性能优化</a> <a href="/tags/Android%E6%B7%B7%E6%B7%86%E6%8A%80%E6%9C%AF/" style="font-size: 10px;">Android混淆技术</a> <a href="/tags/Android%E8%B4%A8%E9%87%8F%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" style="font-size: 11.43px;">Android质量管理工具</a> <a href="/tags/Android%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">Android逆向工程</a> <a href="/tags/Git-github/" style="font-size: 10px;">Git && github</a> <a href="/tags/Hexo-%E4%BD%BF%E7%94%A8/" style="font-size: 15px;">Hexo 使用</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Linux-%E4%BD%BF%E7%94%A8/" style="font-size: 10px;">Linux 使用</a> <a href="/tags/Objective-C-%E7%9B%B8%E5%85%B3/" style="font-size: 18.57px;">Objective C 相关</a> <a href="/tags/OpenCV/" style="font-size: 12.86px;">OpenCV</a> <a href="/tags/ROS/" style="font-size: 14.29px;">ROS</a> <a href="/tags/iOS-%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" style="font-size: 10.71px;">iOS 工具使用</a> <a href="/tags/iOS-%E5%BC%80%E6%BA%90%E5%BA%93%E5%88%86%E6%9E%90/" style="font-size: 20px;">iOS 开源库分析</a> <a href="/tags/iOS-%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/" style="font-size: 15.71px;">iOS 理论基础</a> <a href="/tags/iOS-%E8%BF%9B%E9%98%B6/" style="font-size: 12.14px;">iOS 进阶</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 10px;">代码规范</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB%E7%9B%AE%E5%BD%95/" style="font-size: 10.71px;">博客分类目录</a> <a href="/tags/%E5%8F%A8%E5%8F%A8%E7%B3%BB%E5%88%97/" style="font-size: 10px;">叨叨系列</a> <a href="/tags/%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/" style="font-size: 11.43px;">工具的使用</a> <a href="/tags/%E5%BC%80%E6%BA%90%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 10.71px;">开源代码分析</a> <a href="/tags/%E5%BC%80%E6%BA%90%E5%BA%93%E5%88%86%E6%9E%90/" style="font-size: 10px;">开源库分析</a> <a href="/tags/%E6%9D%82%E7%B1%BB/" style="font-size: 10px;">杂类</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 12.14px;">树莓派</a> <a href="/tags/%E7%9B%B4%E6%92%AD/" style="font-size: 12.86px;">直播</a> <a href="/tags/%E7%BC%96%E7%A8%8B%E6%8A%80%E5%B7%A7/" style="font-size: 10.71px;">编程技巧</a> <a href="/tags/%E7%BD%91%E7%AB%99%E6%94%B6%E8%97%8F/" style="font-size: 10px;">网站收藏</a> <a href="/tags/%E9%87%8D%E8%A6%81%E6%8E%A7%E4%BB%B6/" style="font-size: 11.43px;">重要控件</a>
    </div>
  </div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
		
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/hsihohuang/kiddochan" target="_blank" title="Kiddochan">Kiddochan</a> © 2022 
		
		<a href="/about" target="_blank" title="Edgar">Edgar</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?7c9443b0374f1cf6b1dbb5ab84d939cb";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
